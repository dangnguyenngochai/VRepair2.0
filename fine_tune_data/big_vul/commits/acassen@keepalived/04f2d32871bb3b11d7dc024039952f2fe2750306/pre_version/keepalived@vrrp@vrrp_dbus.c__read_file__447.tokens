static gchar * //<S2SV> read_file ( gchar * filepath ) //<S2SV> { //<S2SV> FILE * f ; //<S2SV> size_t length ; //<S2SV> gchar * ret = NULL ; //<S2SV> f = fopen ( filepath , "rb" ) ; //<S2SV> if ( f ) { //<S2SV> fseek ( f , 0 , SEEK_END ) ; //<S2SV> length = ( size_t ) ftell ( f ) ; //<S2SV> fseek ( f , 0 , SEEK_SET ) ; //<S2SV> ret = MALLOC ( length + 1 ) ; //<S2SV> if ( ret ) { //<S2SV> if ( fread ( ret , length , 1 , f ) != 1 ) { //<S2SV> log_message ( LOG_INFO , "Failed<S2SV_blank>to<S2SV_blank>read<S2SV_blank>all<S2SV_blank>of<S2SV_blank>%s" , filepath ) ; //<S2SV> } //<S2SV> ret [ length ] = '\\0' ; //<S2SV> } //<S2SV> else //<S2SV> log_message ( LOG_INFO , "Unable<S2SV_blank>to<S2SV_blank>read<S2SV_blank>Dbus<S2SV_blank>file<S2SV_blank>%s" , filepath ) ; //<S2SV> fclose ( f ) ; //<S2SV> } //<S2SV> return ret ; //<S2SV> } //<S2SV> 