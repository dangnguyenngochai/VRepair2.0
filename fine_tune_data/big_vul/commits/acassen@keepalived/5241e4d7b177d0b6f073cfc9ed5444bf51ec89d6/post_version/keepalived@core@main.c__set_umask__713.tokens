static mode_t //<S2SV> set_umask ( const char * optarg ) //<S2SV> { //<S2SV> long umask_long ; //<S2SV> mode_t umask_val ; //<S2SV> char * endptr ; //<S2SV> umask_long = strtoll ( optarg , & endptr , 0 ) ; //<S2SV> if ( * endptr || umask_long < 0 || umask_long & ~ 0777L ) { //<S2SV> fprintf ( stderr , "Invalid<S2SV_blank>--umask<S2SV_blank>option<S2SV_blank>%s" , optarg ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> umask_val = umask_long & 0777 ; //<S2SV> umask ( umask_val ) ; //<S2SV> umask_cmdline = true ; //<S2SV> return umask_val ; //<S2SV> } //<S2SV> 