static inline int mount_entry_on_generic ( struct mntent * mntent , //<S2SV> const char * path , const char * rootfs ) //<S2SV> { //<S2SV> unsigned long mntflags ; //<S2SV> char * mntdata ; //<S2SV> int ret ; //<S2SV> bool optional = hasmntopt ( mntent , "optional" ) != NULL ; //<S2SV> ret = mount_entry_create_dir_file ( mntent , path ) ; //<S2SV> if ( ret < 0 ) //<S2SV> return optional ? 0 : - 1 ; //<S2SV> cull_mntent_opt ( mntent ) ; //<S2SV> if ( parse_mntopts ( mntent -> mnt_opts , & mntflags , & mntdata ) < 0 ) { //<S2SV> free ( mntdata ) ; //<S2SV> return - 1 ; //<S2SV> } //<S2SV> ret = mount_entry ( mntent -> mnt_fsname , path , mntent -> mnt_type , //<S2SV> mntflags , mntdata , optional , rootfs ) ; //<S2SV> free ( mntdata ) ; //<S2SV> return ret ; //<S2SV> } //<S2SV> 