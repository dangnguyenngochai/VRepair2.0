char * create_output_name ( char * fname ) { //<S2SV> char * out , * p ; //<S2SV> if ( ( out = malloc ( strlen ( fname ) + 1 ) ) ) { //<S2SV> while ( * fname == '/' || * fname == '\\\\' ) fname ++ ; //<S2SV> strcpy ( out , ( * fname ) ? fname : "x" ) ; //<S2SV> for ( p = out ; * p ; p ++ ) { //<S2SV> if ( p [ 0 ] == '.' && p [ 1 ] == '.' && ( p [ 2 ] == '/' || p [ 2 ] == '\\\\' ) ) { //<S2SV> p [ 0 ] = p [ 1 ] = 'x' ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> return out ; //<S2SV> } //<S2SV> 