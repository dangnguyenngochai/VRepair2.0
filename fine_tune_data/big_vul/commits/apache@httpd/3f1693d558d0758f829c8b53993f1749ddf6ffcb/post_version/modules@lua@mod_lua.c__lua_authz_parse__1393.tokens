static const char * lua_authz_parse ( cmd_parms * cmd , const char * require_line , //<S2SV> const void * * parsed_require_line ) //<S2SV> { //<S2SV> const char * provider_name ; //<S2SV> lua_authz_provider_spec * spec ; //<S2SV> lua_authz_provider_func * func = apr_pcalloc ( cmd -> pool , sizeof ( lua_authz_provider_func ) ) ; //<S2SV> apr_pool_userdata_get ( ( void * * ) & provider_name , AUTHZ_PROVIDER_NAME_NOTE , //<S2SV> cmd -> temp_pool ) ; //<S2SV> ap_assert ( provider_name != NULL ) ; //<S2SV> spec = apr_hash_get ( lua_authz_providers , provider_name , APR_HASH_KEY_STRING ) ; //<S2SV> ap_assert ( spec != NULL ) ; //<S2SV> func -> spec = spec ; //<S2SV> if ( require_line && * require_line ) { //<S2SV> const char * arg ; //<S2SV> func -> args = apr_array_make ( cmd -> pool , 2 , sizeof ( const char * ) ) ; //<S2SV> while ( ( arg = ap_getword_conf ( cmd -> pool , & require_line ) ) && * arg ) { //<S2SV> APR_ARRAY_PUSH ( func -> args , const char * ) = arg ; //<S2SV> } //<S2SV> } //<S2SV> * parsed_require_line = func ; //<S2SV> return NULL ; //<S2SV> } //<S2SV> 