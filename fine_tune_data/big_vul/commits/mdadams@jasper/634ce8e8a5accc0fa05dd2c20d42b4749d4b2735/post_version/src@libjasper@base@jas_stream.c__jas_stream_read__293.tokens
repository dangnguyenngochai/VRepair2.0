int jas_stream_read ( jas_stream_t * stream , void * buf , int cnt ) //<S2SV> { //<S2SV> int n ; //<S2SV> int c ; //<S2SV> char * bufptr ; //<S2SV> if ( cnt < 0 ) { //<S2SV> jas_deprecated ( "negative<S2SV_blank>count<S2SV_blank>for<S2SV_blank>jas_stream_read" ) ; //<S2SV> } //<S2SV> bufptr = buf ; //<S2SV> n = 0 ; //<S2SV> while ( n < cnt ) { //<S2SV> if ( ( c = jas_stream_getc ( stream ) ) == EOF ) { //<S2SV> return n ; //<S2SV> } //<S2SV> * bufptr ++ = c ; //<S2SV> ++ n ; //<S2SV> } //<S2SV> return n ; //<S2SV> } //<S2SV> 