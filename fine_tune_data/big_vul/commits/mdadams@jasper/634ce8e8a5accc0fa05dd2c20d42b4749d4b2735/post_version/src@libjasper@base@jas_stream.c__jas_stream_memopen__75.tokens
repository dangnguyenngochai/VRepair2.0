jas_stream_t * jas_stream_memopen ( char * buf , int bufsize ) //<S2SV> { //<S2SV> char * new_buf ; //<S2SV> size_t new_bufsize ; //<S2SV> JAS_DBGLOG ( 100 , ( "jas_stream_memopen(%p,<S2SV_blank>%d)\\n" , buf , bufsize ) ) ; //<S2SV> if ( bufsize < 0 ) { //<S2SV> jas_deprecated ( "negative<S2SV_blank>buffer<S2SV_blank>size<S2SV_blank>for<S2SV_blank>jas_stream_memopen" ) ; //<S2SV> } //<S2SV> if ( buf && bufsize <= 0 ) { //<S2SV> jas_eprintf ( "Invalid<S2SV_blank>use<S2SV_blank>of<S2SV_blank>jas_stream_memopen<S2SV_blank>detected.\\n" ) ; //<S2SV> jas_deprecated ( "A<S2SV_blank>user-provided<S2SV_blank>buffer<S2SV_blank>for<S2SV_blank>" //<S2SV> "jas_stream_memopen<S2SV_blank>cannot<S2SV_blank>be<S2SV_blank>growable.\\n" ) ; //<S2SV> } //<S2SV> if ( bufsize <= 0 ) { //<S2SV> new_bufsize = 0 ; //<S2SV> new_buf = 0 ; //<S2SV> } else { //<S2SV> new_bufsize = bufsize ; //<S2SV> new_buf = buf ; //<S2SV> } //<S2SV> return jas_stream_memopen2 ( new_buf , new_bufsize ) ; //<S2SV> } //<S2SV> 