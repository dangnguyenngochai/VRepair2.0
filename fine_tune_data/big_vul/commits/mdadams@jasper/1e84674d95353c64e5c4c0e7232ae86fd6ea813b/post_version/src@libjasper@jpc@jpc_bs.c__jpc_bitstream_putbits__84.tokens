int jpc_bitstream_putbits ( jpc_bitstream_t * bitstream , int n , long v ) //<S2SV> { //<S2SV> int m ; //<S2SV> if ( n < 0 || n >= 32 ) { //<S2SV> return EOF ; //<S2SV> } //<S2SV> assert ( ! ( v & ( ~ JAS_ONES ( n ) ) ) ) ; //<S2SV> m = n - 1 ; //<S2SV> while ( -- n >= 0 ) { //<S2SV> if ( jpc_bitstream_putbit ( bitstream , ( v >> m ) & 1 ) == EOF ) { //<S2SV> return EOF ; //<S2SV> } //<S2SV> v <<= 1 ; //<S2SV> } //<S2SV> return 0 ; //<S2SV> } //<S2SV> 