static int jp2_bpcc_getdata ( jp2_box_t * box , jas_stream_t * in ) //<S2SV> { //<S2SV> jp2_bpcc_t * bpcc = & box -> data . bpcc ; //<S2SV> unsigned int i ; //<S2SV> bpcc -> bpcs = 0 ; //<S2SV> bpcc -> numcmpts = box -> datalen ; //<S2SV> if ( ! ( bpcc -> bpcs = jas_alloc2 ( bpcc -> numcmpts , sizeof ( uint_fast8_t ) ) ) ) { //<S2SV> return - 1 ; //<S2SV> } //<S2SV> for ( i = 0 ; i < bpcc -> numcmpts ; ++ i ) { //<S2SV> if ( jp2_getuint8 ( in , & bpcc -> bpcs [ i ] ) ) { //<S2SV> return - 1 ; //<S2SV> } //<S2SV> } //<S2SV> return 0 ; //<S2SV> } //<S2SV> 