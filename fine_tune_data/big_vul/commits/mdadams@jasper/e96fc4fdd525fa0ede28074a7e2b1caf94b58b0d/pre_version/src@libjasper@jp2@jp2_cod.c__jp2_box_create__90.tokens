jp2_box_t * jp2_box_create ( int type ) //<S2SV> { //<S2SV> jp2_box_t * box ; //<S2SV> jp2_boxinfo_t * boxinfo ; //<S2SV> if ( ! ( box = jas_malloc ( sizeof ( jp2_box_t ) ) ) ) { //<S2SV> return 0 ; //<S2SV> } //<S2SV> memset ( box , 0 , sizeof ( jp2_box_t ) ) ; //<S2SV> box -> type = type ; //<S2SV> box -> len = 0 ; //<S2SV> if ( ! ( boxinfo = jp2_boxinfolookup ( type ) ) ) { //<S2SV> return 0 ; //<S2SV> } //<S2SV> box -> info = boxinfo ; //<S2SV> box -> ops = & boxinfo -> ops ; //<S2SV> return box ; //<S2SV> } //<S2SV> 