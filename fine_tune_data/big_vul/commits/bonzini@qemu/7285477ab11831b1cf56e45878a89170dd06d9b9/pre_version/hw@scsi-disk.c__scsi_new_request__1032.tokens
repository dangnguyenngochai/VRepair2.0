static SCSIRequest * scsi_new_request ( SCSIDevice * d , uint32_t tag , //<S2SV> uint32_t lun , void * hba_private ) //<S2SV> { //<S2SV> SCSIDiskState * s = DO_UPCAST ( SCSIDiskState , qdev , d ) ; //<S2SV> SCSIRequest * req ; //<S2SV> SCSIDiskReq * r ; //<S2SV> req = scsi_req_alloc ( & scsi_disk_reqops , & s -> qdev , tag , lun , hba_private ) ; //<S2SV> r = DO_UPCAST ( SCSIDiskReq , req , req ) ; //<S2SV> r -> iov . iov_base = qemu_blockalign ( s -> bs , SCSI_DMA_BUF_SIZE ) ; //<S2SV> return req ; //<S2SV> } //<S2SV> 