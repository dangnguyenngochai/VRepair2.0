void ff_jpeg2000_cleanup ( Jpeg2000Component * comp , Jpeg2000CodingStyle * codsty ) //<S2SV> { //<S2SV> int reslevelno , bandno , precno ; //<S2SV> for ( reslevelno = 0 ; //<S2SV> comp -> reslevel && reslevelno < codsty -> nreslevels ; //<S2SV> reslevelno ++ ) { //<S2SV> Jpeg2000ResLevel * reslevel = comp -> reslevel + reslevelno ; //<S2SV> for ( bandno = 0 ; bandno < reslevel -> nbands ; bandno ++ ) { //<S2SV> Jpeg2000Band * band = reslevel -> band + bandno ; //<S2SV> for ( precno = 0 ; precno < reslevel -> num_precincts_x * reslevel -> num_precincts_y ; precno ++ ) { //<S2SV> Jpeg2000Prec * prec = band -> prec + precno ; //<S2SV> av_freep ( & prec -> zerobits ) ; //<S2SV> av_freep ( & prec -> cblkincl ) ; //<S2SV> av_freep ( & prec -> cblk ) ; //<S2SV> } //<S2SV> av_freep ( & band -> prec ) ; //<S2SV> } //<S2SV> av_freep ( & reslevel -> band ) ; //<S2SV> } //<S2SV> ff_dwt_destroy ( & comp -> dwt ) ; //<S2SV> av_freep ( & comp -> reslevel ) ; //<S2SV> av_freep ( & comp -> i_data ) ; //<S2SV> av_freep ( & comp -> f_data ) ; //<S2SV> } //<S2SV> 