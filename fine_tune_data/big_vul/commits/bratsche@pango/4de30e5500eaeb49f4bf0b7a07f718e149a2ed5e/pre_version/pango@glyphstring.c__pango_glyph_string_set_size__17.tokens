void //<S2SV> pango_glyph_string_set_size ( PangoGlyphString * string , gint new_len ) //<S2SV> { //<S2SV> g_return_if_fail ( new_len >= 0 ) ; //<S2SV> while ( new_len > string -> space ) //<S2SV> { //<S2SV> if ( string -> space == 0 ) //<S2SV> string -> space = 1 ; //<S2SV> else //<S2SV> string -> space *= 2 ; //<S2SV> if ( string -> space < 0 ) //<S2SV> { //<S2SV> g_warning ( "glyph<S2SV_blank>string<S2SV_blank>length<S2SV_blank>overflows<S2SV_blank>maximum<S2SV_blank>integer<S2SV_blank>size,<S2SV_blank>truncated" ) ; //<S2SV> new_len = string -> space = G_MAXINT - 8 ; //<S2SV> } //<S2SV> } //<S2SV> string -> glyphs = g_realloc ( string -> glyphs , string -> space * sizeof ( PangoGlyphInfo ) ) ; //<S2SV> string -> log_clusters = g_realloc ( string -> log_clusters , string -> space * sizeof ( gint ) ) ; //<S2SV> string -> num_glyphs = new_len ; //<S2SV> } //<S2SV> 