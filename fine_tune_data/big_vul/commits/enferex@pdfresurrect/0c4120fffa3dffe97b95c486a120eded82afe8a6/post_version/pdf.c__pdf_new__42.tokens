pdf_t * pdf_new ( const char * name ) //<S2SV> { //<S2SV> const char * n ; //<S2SV> pdf_t * pdf ; //<S2SV> pdf = safe_calloc ( sizeof ( pdf_t ) ) ; //<S2SV> if ( name ) //<S2SV> { //<S2SV> if ( ( n = strrchr ( name , '/' ) ) ) //<S2SV> ++ n ; //<S2SV> else //<S2SV> n = name ; //<S2SV> pdf -> name = safe_calloc ( strlen ( n ) + 1 ) ; //<S2SV> strcpy ( pdf -> name , n ) ; //<S2SV> } //<S2SV> else //<S2SV> { //<S2SV> pdf -> name = safe_calloc ( strlen ( "Unknown" ) + 1 ) ; //<S2SV> strcpy ( pdf -> name , "Unknown" ) ; //<S2SV> } //<S2SV> return pdf ; //<S2SV> } //<S2SV> 