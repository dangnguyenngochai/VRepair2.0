static void nick_hash_remove ( CHANNEL_REC * channel , NICK_REC * nick ) //<S2SV> { //<S2SV> NICK_REC * list , * newlist ; //<S2SV> list = g_hash_table_lookup ( channel -> nicks , nick -> nick ) ; //<S2SV> if ( list == NULL ) //<S2SV> return ; //<S2SV> if ( list == nick ) { //<S2SV> newlist = nick -> next ; //<S2SV> } else { //<S2SV> newlist = list ; //<S2SV> while ( list -> next != nick ) //<S2SV> list = list -> next ; //<S2SV> list -> next = nick -> next ; //<S2SV> } //<S2SV> g_hash_table_remove ( channel -> nicks , nick -> nick ) ; //<S2SV> if ( newlist != NULL ) { //<S2SV> g_hash_table_insert ( channel -> nicks , newlist -> nick , //<S2SV> newlist ) ; //<S2SV> } //<S2SV> } //<S2SV> 