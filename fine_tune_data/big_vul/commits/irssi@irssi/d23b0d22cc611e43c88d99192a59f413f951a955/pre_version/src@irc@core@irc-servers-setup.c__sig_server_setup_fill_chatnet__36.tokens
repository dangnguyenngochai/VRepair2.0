static void sig_server_setup_fill_chatnet ( IRC_SERVER_CONNECT_REC * conn , //<S2SV> IRC_CHATNET_REC * ircnet ) //<S2SV> { //<S2SV> if ( ! IS_IRC_SERVER_CONNECT ( conn ) ) //<S2SV> return ; //<S2SV> g_return_if_fail ( IS_IRCNET ( ircnet ) ) ; //<S2SV> if ( ircnet -> alternate_nick != NULL ) { //<S2SV> g_free_and_null ( conn -> alternate_nick ) ; //<S2SV> conn -> alternate_nick = g_strdup ( ircnet -> alternate_nick ) ; //<S2SV> } //<S2SV> if ( ircnet -> usermode != NULL ) { //<S2SV> g_free_and_null ( conn -> usermode ) ; //<S2SV> conn -> usermode = g_strdup ( ircnet -> usermode ) ; //<S2SV> } //<S2SV> if ( ircnet -> max_kicks > 0 ) conn -> max_kicks = ircnet -> max_kicks ; //<S2SV> if ( ircnet -> max_msgs > 0 ) conn -> max_msgs = ircnet -> max_msgs ; //<S2SV> if ( ircnet -> max_modes > 0 ) conn -> max_modes = ircnet -> max_modes ; //<S2SV> if ( ircnet -> max_whois > 0 ) conn -> max_whois = ircnet -> max_whois ; //<S2SV> if ( ircnet -> max_cmds_at_once > 0 ) //<S2SV> conn -> max_cmds_at_once = ircnet -> max_cmds_at_once ; //<S2SV> if ( ircnet -> cmd_queue_speed > 0 ) //<S2SV> conn -> cmd_queue_speed = ircnet -> cmd_queue_speed ; //<S2SV> if ( ircnet -> max_query_chans > 0 ) //<S2SV> conn -> max_query_chans = ircnet -> max_query_chans ; //<S2SV> conn -> sasl_mechanism = SASL_MECHANISM_NONE ; //<S2SV> conn -> sasl_username = NULL ; //<S2SV> conn -> sasl_password = NULL ; //<S2SV> if ( ircnet -> sasl_mechanism != NULL ) { //<S2SV> if ( ! g_ascii_strcasecmp ( ircnet -> sasl_mechanism , "plain" ) ) { //<S2SV> conn -> sasl_mechanism = SASL_MECHANISM_PLAIN ; //<S2SV> if ( ircnet -> sasl_username != NULL && * ircnet -> sasl_username && //<S2SV> ircnet -> sasl_password != NULL && * ircnet -> sasl_password ) { //<S2SV> conn -> sasl_username = ircnet -> sasl_username ; //<S2SV> conn -> sasl_password = ircnet -> sasl_password ; //<S2SV> } else //<S2SV> g_warning ( "The<S2SV_blank>fields<S2SV_blank>sasl_username<S2SV_blank>and<S2SV_blank>sasl_password<S2SV_blank>are<S2SV_blank>either<S2SV_blank>missing<S2SV_blank>or<S2SV_blank>empty" ) ; //<S2SV> } //<S2SV> else if ( ! g_ascii_strcasecmp ( ircnet -> sasl_mechanism , "external" ) ) { //<S2SV> conn -> sasl_mechanism = SASL_MECHANISM_EXTERNAL ; //<S2SV> } //<S2SV> else //<S2SV> g_warning ( "Unsupported<S2SV_blank>SASL<S2SV_blank>mechanism<S2SV_blank>\\"%s\\"<S2SV_blank>selected" , ircnet -> sasl_mechanism ) ; //<S2SV> } //<S2SV> } //<S2SV> 