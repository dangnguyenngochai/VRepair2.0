char * uwsgi_expand_path ( char * dir , int dir_len , char * ptr ) { //<S2SV> char src [ PATH_MAX + 1 ] ; //<S2SV> memcpy ( src , dir , dir_len ) ; //<S2SV> src [ dir_len ] = 0 ; //<S2SV> char * dst = ptr ; //<S2SV> if ( ! dst ) //<S2SV> dst = uwsgi_malloc ( PATH_MAX + 1 ) ; //<S2SV> if ( ! realpath ( src , dst ) ) { //<S2SV> uwsgi_error_realpath ( src ) ; //<S2SV> if ( ! ptr ) //<S2SV> free ( dst ) ; //<S2SV> return NULL ; //<S2SV> } //<S2SV> return dst ; //<S2SV> } //<S2SV> 