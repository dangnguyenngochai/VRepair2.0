void btsnoop_net_write ( const void * data , size_t length ) { //<S2SV> # if ( ! defined ( BT_NET_DEBUG ) || ( BT_NET_DEBUG != TRUE ) ) //<S2SV> return ; //<S2SV> # endif //<S2SV> pthread_mutex_lock ( & client_socket_lock_ ) ; //<S2SV> if ( client_socket_ != - 1 ) { //<S2SV> if ( send ( client_socket_ , data , length , 0 ) == - 1 && errno == ECONNRESET ) { //<S2SV> safe_close_ ( & client_socket_ ) ; //<S2SV> } //<S2SV> } //<S2SV> pthread_mutex_unlock ( & client_socket_lock_ ) ; //<S2SV> } //<S2SV> 