static int a2dp_ctrl_receive ( struct a2dp_stream_common * common , void * buffer , int length ) //<S2SV> { //<S2SV> int ret = TEMP_FAILURE_RETRY ( recv ( common -> ctrl_fd , buffer , length , MSG_NOSIGNAL ) ) ; //<S2SV> if ( ret < 0 ) //<S2SV> { //<S2SV> ERROR ( "ack<S2SV_blank>failed<S2SV_blank>(%s)" , strerror ( errno ) ) ; //<S2SV> if ( errno == EINTR ) //<S2SV> { //<S2SV> ret = TEMP_FAILURE_RETRY ( recv ( common -> ctrl_fd , buffer , length , MSG_NOSIGNAL ) ) ; //<S2SV> if ( ret < 0 ) //<S2SV> { //<S2SV> ERROR ( "ack<S2SV_blank>failed<S2SV_blank>(%s)" , strerror ( errno ) ) ; //<S2SV> skt_disconnect ( common -> ctrl_fd ) ; //<S2SV> common -> ctrl_fd = AUDIO_SKT_DISCONNECTED ; //<S2SV> return - 1 ; //<S2SV> } //<S2SV> } //<S2SV> else //<S2SV> { //<S2SV> skt_disconnect ( common -> ctrl_fd ) ; //<S2SV> common -> ctrl_fd = AUDIO_SKT_DISCONNECTED ; //<S2SV> return - 1 ; //<S2SV> } //<S2SV> } //<S2SV> return ret ; //<S2SV> } //<S2SV> 