static int fsck_gitmodules_fn ( const char * var , const char * value , void * vdata ) //<S2SV> { //<S2SV> struct fsck_gitmodules_data * data = vdata ; //<S2SV> const char * subsection , * key ; //<S2SV> int subsection_len ; //<S2SV> char * name ; //<S2SV> if ( parse_config_key ( var , "submodule" , & subsection , & subsection_len , & key ) < 0 || //<S2SV> ! subsection ) //<S2SV> return 0 ; //<S2SV> name = xmemdupz ( subsection , subsection_len ) ; //<S2SV> if ( check_submodule_name ( name ) < 0 ) //<S2SV> data -> ret |= report ( data -> options , data -> obj , //<S2SV> FSCK_MSG_GITMODULES_NAME , //<S2SV> "disallowed<S2SV_blank>submodule<S2SV_blank>name:<S2SV_blank>%s" , //<S2SV> name ) ; //<S2SV> if ( ! strcmp ( key , "url" ) && value && //<S2SV> looks_like_command_line_option ( value ) ) //<S2SV> data -> ret |= report ( data -> options , data -> obj , //<S2SV> FSCK_MSG_GITMODULES_URL , //<S2SV> "disallowed<S2SV_blank>submodule<S2SV_blank>url:<S2SV_blank>%s" , //<S2SV> value ) ; //<S2SV> free ( name ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> 