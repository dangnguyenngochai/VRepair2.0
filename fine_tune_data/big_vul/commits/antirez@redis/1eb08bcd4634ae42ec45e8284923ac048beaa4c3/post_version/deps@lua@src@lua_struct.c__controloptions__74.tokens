static void controloptions ( lua_State * L , int opt , const char * * fmt , //<S2SV> Header * h ) { //<S2SV> switch ( opt ) { //<S2SV> case '<S2SV_blank>' : return ; //<S2SV> case '>' : h -> endian = BIG ; return ; //<S2SV> case '<' : h -> endian = LITTLE ; return ; //<S2SV> case '!' : { //<S2SV> int a = getnum ( fmt , MAXALIGN ) ; //<S2SV> if ( ! isp2 ( a ) ) //<S2SV> luaL_error ( L , "alignment<S2SV_blank>%d<S2SV_blank>is<S2SV_blank>not<S2SV_blank>a<S2SV_blank>power<S2SV_blank>of<S2SV_blank>2" , a ) ; //<S2SV> h -> align = a ; //<S2SV> return ; //<S2SV> } //<S2SV> default : { //<S2SV> const char * msg = lua_pushfstring ( L , "invalid<S2SV_blank>format<S2SV_blank>option<S2SV_blank>\'%c\'" , opt ) ; //<S2SV> luaL_argerror ( L , 1 , msg ) ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> 