static void cliRefreshPrompt ( void ) { //<S2SV> if ( config . eval_ldb ) return ; //<S2SV> sds prompt = sdsempty ( ) ; //<S2SV> if ( config . hostsocket != NULL ) { //<S2SV> prompt = sdscatfmt ( prompt , "redis<S2SV_blank>%s" , config . hostsocket ) ; //<S2SV> } else { //<S2SV> char addr [ 256 ] ; //<S2SV> anetFormatAddr ( addr , sizeof ( addr ) , config . hostip , config . hostport ) ; //<S2SV> prompt = sdscatlen ( prompt , addr , strlen ( addr ) ) ; //<S2SV> } //<S2SV> if ( config . dbnum != 0 ) //<S2SV> prompt = sdscatfmt ( prompt , "[%i]" , config . dbnum ) ; //<S2SV> prompt = sdscatlen ( prompt , "><S2SV_blank>" , 2 ) ; //<S2SV> snprintf ( config . prompt , sizeof ( config . prompt ) , "%s" , prompt ) ; //<S2SV> sdsfree ( prompt ) ; //<S2SV> } //<S2SV> 