static TEE_Result set_rmem_param ( const struct optee_msg_param_rmem * rmem , //<S2SV> struct param_mem * mem ) //<S2SV> { //<S2SV> uint64_t shm_ref = READ_ONCE ( rmem -> shm_ref ) ; //<S2SV> mem -> mobj = mobj_reg_shm_get_by_cookie ( shm_ref ) ; //<S2SV> if ( ! mem -> mobj ) //<S2SV> return TEE_ERROR_BAD_PARAMETERS ; //<S2SV> mem -> offs = READ_ONCE ( rmem -> offs ) ; //<S2SV> mem -> size = READ_ONCE ( rmem -> size ) ; //<S2SV> return TEE_SUCCESS ; //<S2SV> } //<S2SV> 