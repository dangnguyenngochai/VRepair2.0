static struct mobj * alloc_ta_mem ( size_t size ) //<S2SV> { //<S2SV> # ifdef CFG_PAGED_USER_TA //<S2SV> return mobj_paged_alloc ( size ) ; //<S2SV> # else //<S2SV> struct mobj * mobj = mobj_mm_alloc ( mobj_sec_ddr , size , & tee_mm_sec_ddr ) ; //<S2SV> if ( mobj ) { //<S2SV> size_t granularity = BIT ( tee_mm_sec_ddr . shift ) ; //<S2SV> memset ( mobj_get_va ( mobj , 0 ) , 0 , ROUNDUP ( size , granularity ) ) ; //<S2SV> } //<S2SV> return mobj ; //<S2SV> # endif //<S2SV> } //<S2SV> 