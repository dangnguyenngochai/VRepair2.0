int add_packetdata ( struct mt_packet * packet , unsigned char * data , unsigned short length ) { //<S2SV> if ( packet -> size + length > MT_PACKET_LEN ) { //<S2SV> fprintf ( stderr , _ ( "add_control_packet:<S2SV_blank>ERROR,<S2SV_blank>too<S2SV_blank>large<S2SV_blank>packet.<S2SV_blank>Exceeds<S2SV_blank>%d<S2SV_blank>bytes\\n" ) , MT_PACKET_LEN ) ; //<S2SV> return - 1 ; //<S2SV> } //<S2SV> memcpy ( packet -> data + packet -> size , data , length ) ; //<S2SV> packet -> size += length ; //<S2SV> return length ; //<S2SV> } //<S2SV> 