static void put_ucounts ( struct ucounts * ucounts ) //<S2SV> { //<S2SV> unsigned long flags ; //<S2SV> spin_lock_irqsave ( & ucounts_lock , flags ) ; //<S2SV> ucounts -> count -= 1 ; //<S2SV> if ( ! ucounts -> count ) //<S2SV> hlist_del_init ( & ucounts -> node ) ; //<S2SV> else //<S2SV> ucounts = NULL ; //<S2SV> spin_unlock_irqrestore ( & ucounts_lock , flags ) ; //<S2SV> kfree ( ucounts ) ; //<S2SV> } //<S2SV> 