void //<S2SV> qedi_dbg_info ( struct qedi_dbg_ctx * qedi , const char * func , u32 line , //<S2SV> u32 level , const char * fmt , ... ) //<S2SV> { //<S2SV> va_list va ; //<S2SV> struct va_format vaf ; //<S2SV> char nfunc [ 32 ] ; //<S2SV> memset ( nfunc , 0 , sizeof ( nfunc ) ) ; //<S2SV> memcpy ( nfunc , func , sizeof ( nfunc ) - 1 ) ; //<S2SV> va_start ( va , fmt ) ; //<S2SV> vaf . fmt = fmt ; //<S2SV> vaf . va = & va ; //<S2SV> if ( ! ( qedi_dbg_log & level ) ) //<S2SV> goto ret ; //<S2SV> if ( likely ( qedi ) && likely ( qedi -> pdev ) ) //<S2SV> pr_info ( "[%s]:[%s:%d]:%d:<S2SV_blank>%pV" , dev_name ( & qedi -> pdev -> dev ) , //<S2SV> nfunc , line , qedi -> host_no , & vaf ) ; //<S2SV> else //<S2SV> pr_info ( "[0000:00:00.0]:[%s:%d]:<S2SV_blank>%pV" , nfunc , line , & vaf ) ; //<S2SV> ret : //<S2SV> va_end ( va ) ; //<S2SV> } //<S2SV> 