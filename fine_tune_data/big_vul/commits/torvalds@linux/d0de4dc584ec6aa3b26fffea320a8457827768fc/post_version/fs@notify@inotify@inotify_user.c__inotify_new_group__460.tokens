static struct fsnotify_group * inotify_new_group ( unsigned int max_events ) //<S2SV> { //<S2SV> struct fsnotify_group * group ; //<S2SV> group = fsnotify_alloc_group ( & inotify_fsnotify_ops ) ; //<S2SV> if ( IS_ERR ( group ) ) //<S2SV> return group ; //<S2SV> group -> max_events = max_events ; //<S2SV> spin_lock_init ( & group -> inotify_data . idr_lock ) ; //<S2SV> idr_init ( & group -> inotify_data . idr ) ; //<S2SV> group -> inotify_data . last_wd = 0 ; //<S2SV> group -> inotify_data . fa = NULL ; //<S2SV> group -> inotify_data . user = get_current_user ( ) ; //<S2SV> if ( atomic_inc_return ( & group -> inotify_data . user -> inotify_devs ) > //<S2SV> inotify_max_user_instances ) { //<S2SV> fsnotify_put_group ( group ) ; //<S2SV> return ERR_PTR ( - EMFILE ) ; //<S2SV> } //<S2SV> return group ; //<S2SV> } //<S2SV> 