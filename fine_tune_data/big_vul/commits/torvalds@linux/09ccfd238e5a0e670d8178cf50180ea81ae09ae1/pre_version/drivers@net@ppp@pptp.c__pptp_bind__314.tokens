static int pptp_bind ( struct socket * sock , struct sockaddr * uservaddr , //<S2SV> int sockaddr_len ) //<S2SV> { //<S2SV> struct sock * sk = sock -> sk ; //<S2SV> struct sockaddr_pppox * sp = ( struct sockaddr_pppox * ) uservaddr ; //<S2SV> struct pppox_sock * po = pppox_sk ( sk ) ; //<S2SV> struct pptp_opt * opt = & po -> proto . pptp ; //<S2SV> int error = 0 ; //<S2SV> lock_sock ( sk ) ; //<S2SV> opt -> src_addr = sp -> sa_addr . pptp ; //<S2SV> if ( add_chan ( po ) ) //<S2SV> error = - EBUSY ; //<S2SV> release_sock ( sk ) ; //<S2SV> return error ; //<S2SV> } //<S2SV> 