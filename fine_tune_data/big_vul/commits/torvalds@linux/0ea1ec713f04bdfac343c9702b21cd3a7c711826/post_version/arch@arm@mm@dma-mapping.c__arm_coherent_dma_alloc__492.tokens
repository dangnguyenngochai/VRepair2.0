static void * arm_coherent_dma_alloc ( struct device * dev , size_t size , //<S2SV> dma_addr_t * handle , gfp_t gfp , struct dma_attrs * attrs ) //<S2SV> { //<S2SV> pgprot_t prot = __get_dma_pgprot ( attrs , PAGE_KERNEL ) ; //<S2SV> void * memory ; //<S2SV> if ( dma_alloc_from_coherent ( dev , size , handle , & memory ) ) //<S2SV> return memory ; //<S2SV> return __dma_alloc ( dev , size , handle , gfp , prot , true , //<S2SV> __builtin_return_address ( 0 ) ) ; //<S2SV> } //<S2SV> 