struct net * get_net_ns_by_id ( struct net * net , int id ) //<S2SV> { //<S2SV> struct net * peer ; //<S2SV> if ( id < 0 ) //<S2SV> return NULL ; //<S2SV> rcu_read_lock ( ) ; //<S2SV> spin_lock_bh ( & net -> nsid_lock ) ; //<S2SV> peer = idr_find ( & net -> netns_ids , id ) ; //<S2SV> if ( peer ) //<S2SV> get_net ( peer ) ; //<S2SV> spin_unlock_bh ( & net -> nsid_lock ) ; //<S2SV> rcu_read_unlock ( ) ; //<S2SV> return peer ; //<S2SV> } //<S2SV> 