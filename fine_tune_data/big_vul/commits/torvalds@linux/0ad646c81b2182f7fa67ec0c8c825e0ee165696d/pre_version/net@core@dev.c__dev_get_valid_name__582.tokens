static int dev_get_valid_name ( struct net * net , //<S2SV> struct net_device * dev , //<S2SV> const char * name ) //<S2SV> { //<S2SV> BUG_ON ( ! net ) ; //<S2SV> if ( ! dev_valid_name ( name ) ) //<S2SV> return - EINVAL ; //<S2SV> if ( strchr ( name , '%' ) ) //<S2SV> return dev_alloc_name_ns ( net , dev , name ) ; //<S2SV> else if ( __dev_get_by_name ( net , name ) ) //<S2SV> return - EEXIST ; //<S2SV> else if ( dev -> name != name ) //<S2SV> strlcpy ( dev -> name , name , IFNAMSIZ ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> 