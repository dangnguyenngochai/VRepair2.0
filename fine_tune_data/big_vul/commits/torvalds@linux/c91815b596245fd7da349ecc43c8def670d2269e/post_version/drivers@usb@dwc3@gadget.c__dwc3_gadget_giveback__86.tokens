void dwc3_gadget_giveback ( struct dwc3_ep * dep , struct dwc3_request * req , //<S2SV> int status ) //<S2SV> { //<S2SV> struct dwc3 * dwc = dep -> dwc ; //<S2SV> dwc3_gadget_del_and_unmap_request ( dep , req , status ) ; //<S2SV> spin_unlock ( & dwc -> lock ) ; //<S2SV> usb_gadget_giveback_request ( & dep -> endpoint , & req -> request ) ; //<S2SV> spin_lock ( & dwc -> lock ) ; //<S2SV> } //<S2SV> 