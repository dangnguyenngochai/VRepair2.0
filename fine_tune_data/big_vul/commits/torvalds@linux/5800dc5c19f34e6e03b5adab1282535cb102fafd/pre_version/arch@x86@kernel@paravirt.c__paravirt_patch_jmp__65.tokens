unsigned paravirt_patch_jmp ( void * insnbuf , const void * target , //<S2SV> unsigned long addr , unsigned len ) //<S2SV> { //<S2SV> struct branch * b = insnbuf ; //<S2SV> unsigned long delta = ( unsigned long ) target - ( addr + 5 ) ; //<S2SV> if ( len < 5 ) //<S2SV> return len ; //<S2SV> b -> opcode = 0xe9 ; //<S2SV> b -> delta = delta ; //<S2SV> return 5 ; //<S2SV> } //<S2SV> 