void kvm_lapic_sync_from_vapic ( struct kvm_vcpu * vcpu ) //<S2SV> { //<S2SV> u32 data ; //<S2SV> if ( test_bit ( KVM_APIC_PV_EOI_PENDING , & vcpu -> arch . apic_attention ) ) //<S2SV> apic_sync_pv_eoi_from_guest ( vcpu , vcpu -> arch . apic ) ; //<S2SV> if ( ! test_bit ( KVM_APIC_CHECK_VAPIC , & vcpu -> arch . apic_attention ) ) //<S2SV> return ; //<S2SV> kvm_read_guest_cached ( vcpu -> kvm , & vcpu -> arch . apic -> vapic_cache , & data , //<S2SV> sizeof ( u32 ) ) ; //<S2SV> apic_set_tpr ( vcpu -> arch . apic , data & 0xff ) ; //<S2SV> } //<S2SV> 