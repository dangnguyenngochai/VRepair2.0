void inet6_destroy_sock ( struct sock * sk ) //<S2SV> { //<S2SV> struct ipv6_pinfo * np = inet6_sk ( sk ) ; //<S2SV> struct sk_buff * skb ; //<S2SV> struct ipv6_txoptions * opt ; //<S2SV> skb = xchg ( & np -> pktoptions , NULL ) ; //<S2SV> if ( skb ) //<S2SV> kfree_skb ( skb ) ; //<S2SV> skb = xchg ( & np -> rxpmtu , NULL ) ; //<S2SV> if ( skb ) //<S2SV> kfree_skb ( skb ) ; //<S2SV> fl6_free_socklist ( sk ) ; //<S2SV> opt = xchg ( & np -> opt , NULL ) ; //<S2SV> if ( opt ) //<S2SV> sock_kfree_s ( sk , opt , opt -> tot_len ) ; //<S2SV> } //<S2SV> 