static void vmx_complete_atomic_exit ( struct vcpu_vmx * vmx ) //<S2SV> { //<S2SV> u32 exit_intr_info ; //<S2SV> if ( ! ( vmx -> exit_reason == EXIT_REASON_MCE_DURING_VMENTRY //<S2SV> || vmx -> exit_reason == EXIT_REASON_EXCEPTION_NMI ) ) //<S2SV> return ; //<S2SV> vmx -> exit_intr_info = vmcs_read32 ( VM_EXIT_INTR_INFO ) ; //<S2SV> exit_intr_info = vmx -> exit_intr_info ; //<S2SV> if ( is_machine_check ( exit_intr_info ) ) //<S2SV> kvm_machine_check ( ) ; //<S2SV> if ( is_nmi ( exit_intr_info ) ) { //<S2SV> kvm_before_handle_nmi ( & vmx -> vcpu ) ; //<S2SV> asm ( "int<S2SV_blank>$2" ) ; //<S2SV> kvm_after_handle_nmi ( & vmx -> vcpu ) ; //<S2SV> } //<S2SV> } //<S2SV> 