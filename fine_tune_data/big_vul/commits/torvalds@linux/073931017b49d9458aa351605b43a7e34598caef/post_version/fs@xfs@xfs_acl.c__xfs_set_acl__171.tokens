int //<S2SV> xfs_set_acl ( struct inode * inode , struct posix_acl * acl , int type ) //<S2SV> { //<S2SV> int error = 0 ; //<S2SV> if ( ! acl ) //<S2SV> goto set_acl ; //<S2SV> error = - E2BIG ; //<S2SV> if ( acl -> a_count > XFS_ACL_MAX_ENTRIES ( XFS_M ( inode -> i_sb ) ) ) //<S2SV> return error ; //<S2SV> if ( type == ACL_TYPE_ACCESS ) { //<S2SV> umode_t mode ; //<S2SV> error = posix_acl_update_mode ( inode , & mode , & acl ) ; //<S2SV> if ( error ) //<S2SV> return error ; //<S2SV> error = xfs_set_mode ( inode , mode ) ; //<S2SV> if ( error ) //<S2SV> return error ; //<S2SV> } //<S2SV> set_acl : //<S2SV> return __xfs_set_acl ( inode , type , acl ) ; //<S2SV> } //<S2SV> 