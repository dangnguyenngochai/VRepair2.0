static void set_orig_addr ( struct msghdr * m , struct tipc_msg * msg ) //<S2SV> { //<S2SV> struct sockaddr_tipc * addr = ( struct sockaddr_tipc * ) m -> msg_name ; //<S2SV> if ( addr ) { //<S2SV> addr -> family = AF_TIPC ; //<S2SV> addr -> addrtype = TIPC_ADDR_ID ; //<S2SV> addr -> addr . id . ref = msg_origport ( msg ) ; //<S2SV> addr -> addr . id . node = msg_orignode ( msg ) ; //<S2SV> addr -> addr . name . domain = 0 ; //<S2SV> addr -> scope = 0 ; //<S2SV> m -> msg_namelen = sizeof ( struct sockaddr_tipc ) ; //<S2SV> } //<S2SV> } //<S2SV> 