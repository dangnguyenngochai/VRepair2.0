static int m88rs2000_frontend_attach ( struct dvb_usb_adapter * adap ) //<S2SV> { //<S2SV> struct dvb_usb_device * d = adap -> dev ; //<S2SV> struct dw2102_state * state = d -> priv ; //<S2SV> mutex_lock ( & d -> data_mutex ) ; //<S2SV> state -> data [ 0 ] = 0x51 ; //<S2SV> if ( dvb_usb_generic_rw ( d , state -> data , 1 , state -> data , 1 , 0 ) < 0 ) //<S2SV> err ( "command<S2SV_blank>0x51<S2SV_blank>transfer<S2SV_blank>failed." ) ; //<S2SV> mutex_unlock ( & d -> data_mutex ) ; //<S2SV> adap -> fe_adap [ 0 ] . fe = dvb_attach ( m88rs2000_attach , //<S2SV> & s421_m88rs2000_config , //<S2SV> & d -> i2c_adap ) ; //<S2SV> if ( adap -> fe_adap [ 0 ] . fe == NULL ) //<S2SV> return - EIO ; //<S2SV> if ( dvb_attach ( ts2020_attach , adap -> fe_adap [ 0 ] . fe , //<S2SV> & dw2104_ts2020_config , //<S2SV> & d -> i2c_adap ) ) { //<S2SV> info ( "Attached<S2SV_blank>RS2000/TS2020!" ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> info ( "Failed<S2SV_blank>to<S2SV_blank>attach<S2SV_blank>RS2000/TS2020!" ) ; //<S2SV> return - EIO ; //<S2SV> } //<S2SV> 