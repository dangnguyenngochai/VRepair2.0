void mm_release ( struct task_struct * tsk , struct mm_struct * mm ) //<S2SV> { //<S2SV> struct completion * vfork_done = tsk -> vfork_done ; //<S2SV> deactivate_mm ( tsk , mm ) ; //<S2SV> if ( vfork_done ) { //<S2SV> tsk -> vfork_done = NULL ; //<S2SV> complete ( vfork_done ) ; //<S2SV> } //<S2SV> if ( tsk -> clear_child_tid //<S2SV> && ! ( tsk -> flags & PF_SIGNALED ) //<S2SV> && atomic_read ( & mm -> mm_users ) > 1 ) { //<S2SV> u32 __user * tidptr = tsk -> clear_child_tid ; //<S2SV> tsk -> clear_child_tid = NULL ; //<S2SV> put_user ( 0 , tidptr ) ; //<S2SV> sys_futex ( tidptr , FUTEX_WAKE , 1 , NULL , NULL , 0 ) ; //<S2SV> } //<S2SV> } //<S2SV> 