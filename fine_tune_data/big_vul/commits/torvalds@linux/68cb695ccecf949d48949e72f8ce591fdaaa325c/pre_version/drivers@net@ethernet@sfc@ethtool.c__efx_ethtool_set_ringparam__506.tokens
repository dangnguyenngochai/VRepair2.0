static int efx_ethtool_set_ringparam ( struct net_device * net_dev , //<S2SV> struct ethtool_ringparam * ring ) //<S2SV> { //<S2SV> struct efx_nic * efx = netdev_priv ( net_dev ) ; //<S2SV> if ( ring -> rx_mini_pending || ring -> rx_jumbo_pending || //<S2SV> ring -> rx_pending > EFX_MAX_DMAQ_SIZE || //<S2SV> ring -> tx_pending > EFX_MAX_DMAQ_SIZE ) //<S2SV> return - EINVAL ; //<S2SV> if ( ring -> rx_pending < EFX_MIN_RING_SIZE || //<S2SV> ring -> tx_pending < EFX_MIN_RING_SIZE ) { //<S2SV> netif_err ( efx , drv , efx -> net_dev , //<S2SV> "TX<S2SV_blank>and<S2SV_blank>RX<S2SV_blank>queues<S2SV_blank>cannot<S2SV_blank>be<S2SV_blank>smaller<S2SV_blank>than<S2SV_blank>%ld\\n" , //<S2SV> EFX_MIN_RING_SIZE ) ; //<S2SV> return - EINVAL ; //<S2SV> } //<S2SV> return efx_realloc_channels ( efx , ring -> rx_pending , ring -> tx_pending ) ; //<S2SV> } //<S2SV> 