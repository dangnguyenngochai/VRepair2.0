static struct phy * serdes_simple_xlate ( struct device * dev , //<S2SV> struct of_phandle_args * args ) //<S2SV> { //<S2SV> struct serdes_ctrl * ctrl = dev_get_drvdata ( dev ) ; //<S2SV> unsigned int port , idx , i ; //<S2SV> if ( args -> args_count != 2 ) //<S2SV> return ERR_PTR ( - EINVAL ) ; //<S2SV> port = args -> args [ 0 ] ; //<S2SV> idx = args -> args [ 1 ] ; //<S2SV> for ( i = 0 ; i < SERDES_MAX ; i ++ ) { //<S2SV> struct serdes_macro * macro = phy_get_drvdata ( ctrl -> phys [ i ] ) ; //<S2SV> if ( idx != macro -> idx ) //<S2SV> continue ; //<S2SV> if ( idx != SERDES6G ( 0 ) && macro -> port >= 0 ) //<S2SV> return ERR_PTR ( - EBUSY ) ; //<S2SV> macro -> port = port ; //<S2SV> return ctrl -> phys [ i ] ; //<S2SV> } //<S2SV> return ERR_PTR ( - ENODEV ) ; //<S2SV> } //<S2SV> 