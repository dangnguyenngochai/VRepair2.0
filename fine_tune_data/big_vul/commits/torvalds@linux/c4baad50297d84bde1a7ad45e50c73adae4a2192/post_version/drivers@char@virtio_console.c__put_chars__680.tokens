static int put_chars ( u32 vtermno , const char * buf , int count ) //<S2SV> { //<S2SV> struct port * port ; //<S2SV> struct scatterlist sg [ 1 ] ; //<S2SV> void * data ; //<S2SV> int ret ; //<S2SV> if ( unlikely ( early_put_chars ) ) //<S2SV> return early_put_chars ( vtermno , buf , count ) ; //<S2SV> port = find_port_by_vtermno ( vtermno ) ; //<S2SV> if ( ! port ) //<S2SV> return - EPIPE ; //<S2SV> data = kmemdup ( buf , count , GFP_ATOMIC ) ; //<S2SV> if ( ! data ) //<S2SV> return - ENOMEM ; //<S2SV> sg_init_one ( sg , data , count ) ; //<S2SV> ret = __send_to_port ( port , sg , 1 , count , data , false ) ; //<S2SV> kfree ( data ) ; //<S2SV> return ret ; //<S2SV> } //<S2SV> 