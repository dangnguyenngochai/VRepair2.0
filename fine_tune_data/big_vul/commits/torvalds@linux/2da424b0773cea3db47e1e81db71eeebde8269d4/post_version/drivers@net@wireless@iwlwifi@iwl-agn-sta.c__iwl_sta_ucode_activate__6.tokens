static int iwl_sta_ucode_activate ( struct iwl_priv * priv , u8 sta_id ) //<S2SV> { //<S2SV> if ( sta_id >= IWLAGN_STATION_COUNT ) { //<S2SV> IWL_ERR ( priv , "invalid<S2SV_blank>sta_id<S2SV_blank>%u" , sta_id ) ; //<S2SV> return - EINVAL ; //<S2SV> } //<S2SV> if ( ! ( priv -> stations [ sta_id ] . used & IWL_STA_DRIVER_ACTIVE ) ) //<S2SV> IWL_ERR ( priv , "ACTIVATE<S2SV_blank>a<S2SV_blank>non<S2SV_blank>DRIVER<S2SV_blank>active<S2SV_blank>station<S2SV_blank>id<S2SV_blank>%u<S2SV_blank>" //<S2SV> "addr<S2SV_blank>%pM\\n" , //<S2SV> sta_id , priv -> stations [ sta_id ] . sta . sta . addr ) ; //<S2SV> if ( priv -> stations [ sta_id ] . used & IWL_STA_UCODE_ACTIVE ) { //<S2SV> IWL_DEBUG_ASSOC ( priv , //<S2SV> "STA<S2SV_blank>id<S2SV_blank>%u<S2SV_blank>addr<S2SV_blank>%pM<S2SV_blank>already<S2SV_blank>present<S2SV_blank>in<S2SV_blank>uCode<S2SV_blank>" //<S2SV> "(according<S2SV_blank>to<S2SV_blank>driver)\\n" , //<S2SV> sta_id , priv -> stations [ sta_id ] . sta . sta . addr ) ; //<S2SV> } else { //<S2SV> priv -> stations [ sta_id ] . used |= IWL_STA_UCODE_ACTIVE ; //<S2SV> IWL_DEBUG_ASSOC ( priv , "Added<S2SV_blank>STA<S2SV_blank>id<S2SV_blank>%u<S2SV_blank>addr<S2SV_blank>%pM<S2SV_blank>to<S2SV_blank>uCode\\n" , //<S2SV> sta_id , priv -> stations [ sta_id ] . sta . sta . addr ) ; //<S2SV> } //<S2SV> return 0 ; //<S2SV> } //<S2SV> 