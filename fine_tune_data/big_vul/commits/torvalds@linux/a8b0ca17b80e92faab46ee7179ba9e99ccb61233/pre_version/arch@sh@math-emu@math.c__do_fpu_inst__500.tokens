int do_fpu_inst ( unsigned short inst , struct pt_regs * regs ) //<S2SV> { //<S2SV> struct task_struct * tsk = current ; //<S2SV> struct sh_fpu_soft_struct * fpu = & ( tsk -> thread . xstate -> softfpu ) ; //<S2SV> perf_sw_event ( PERF_COUNT_SW_EMULATION_FAULTS , 1 , 0 , regs , 0 ) ; //<S2SV> if ( ! ( task_thread_info ( tsk ) -> status & TS_USEDFPU ) ) { //<S2SV> fpu_init ( fpu ) ; //<S2SV> task_thread_info ( tsk ) -> status |= TS_USEDFPU ; //<S2SV> } //<S2SV> return fpu_emulate ( inst , fpu , regs ) ; //<S2SV> } //<S2SV> 