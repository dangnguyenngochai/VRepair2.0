asmlinkage void bad_mode ( struct pt_regs * regs , int reason , unsigned int esr ) //<S2SV> { //<S2SV> siginfo_t info ; //<S2SV> void __user * pc = ( void __user * ) instruction_pointer ( regs ) ; //<S2SV> console_verbose ( ) ; //<S2SV> pr_crit ( "Bad<S2SV_blank>mode<S2SV_blank>in<S2SV_blank>%s<S2SV_blank>handler<S2SV_blank>detected,<S2SV_blank>code<S2SV_blank>0x%08x\\n" , //<S2SV> handler [ reason ] , esr ) ; //<S2SV> __show_regs ( regs ) ; //<S2SV> info . si_signo = SIGILL ; //<S2SV> info . si_errno = 0 ; //<S2SV> info . si_code = ILL_ILLOPC ; //<S2SV> info . si_addr = pc ; //<S2SV> arm64_notify_die ( "Oops<S2SV_blank>-<S2SV_blank>bad<S2SV_blank>mode" , regs , & info , 0 ) ; //<S2SV> } //<S2SV> 