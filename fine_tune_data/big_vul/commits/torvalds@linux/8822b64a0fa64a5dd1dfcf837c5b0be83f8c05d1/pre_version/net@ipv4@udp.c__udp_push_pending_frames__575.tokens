static int udp_push_pending_frames ( struct sock * sk ) //<S2SV> { //<S2SV> struct udp_sock * up = udp_sk ( sk ) ; //<S2SV> struct inet_sock * inet = inet_sk ( sk ) ; //<S2SV> struct flowi4 * fl4 = & inet -> cork . fl . u . ip4 ; //<S2SV> struct sk_buff * skb ; //<S2SV> int err = 0 ; //<S2SV> skb = ip_finish_skb ( sk , fl4 ) ; //<S2SV> if ( ! skb ) //<S2SV> goto out ; //<S2SV> err = udp_send_skb ( skb , fl4 ) ; //<S2SV> out : //<S2SV> up -> len = 0 ; //<S2SV> up -> pending = 0 ; //<S2SV> return err ; //<S2SV> } //<S2SV> 