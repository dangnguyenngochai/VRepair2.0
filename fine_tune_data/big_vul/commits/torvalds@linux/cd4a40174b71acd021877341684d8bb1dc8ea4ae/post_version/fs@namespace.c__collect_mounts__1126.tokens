struct vfsmount * collect_mounts ( struct path * path ) //<S2SV> { //<S2SV> struct mount * tree ; //<S2SV> namespace_lock ( ) ; //<S2SV> if ( ! check_mnt ( real_mount ( path -> mnt ) ) ) //<S2SV> tree = ERR_PTR ( - EINVAL ) ; //<S2SV> else //<S2SV> tree = copy_tree ( real_mount ( path -> mnt ) , path -> dentry , //<S2SV> CL_COPY_ALL | CL_PRIVATE ) ; //<S2SV> namespace_unlock ( ) ; //<S2SV> if ( IS_ERR ( tree ) ) //<S2SV> return ERR_CAST ( tree ) ; //<S2SV> return & tree -> mnt ; //<S2SV> } //<S2SV> 