void pin_remove ( struct fs_pin * pin ) //<S2SV> { //<S2SV> spin_lock ( & pin_lock ) ; //<S2SV> hlist_del_init ( & pin -> m_list ) ; //<S2SV> hlist_del_init ( & pin -> s_list ) ; //<S2SV> spin_unlock ( & pin_lock ) ; //<S2SV> spin_lock_irq ( & pin -> wait . lock ) ; //<S2SV> pin -> done = 1 ; //<S2SV> wake_up_locked ( & pin -> wait ) ; //<S2SV> spin_unlock_irq ( & pin -> wait . lock ) ; //<S2SV> } //<S2SV> 