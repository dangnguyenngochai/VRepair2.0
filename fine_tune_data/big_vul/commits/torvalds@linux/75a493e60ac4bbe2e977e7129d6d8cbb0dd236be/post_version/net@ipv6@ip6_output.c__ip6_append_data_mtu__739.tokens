static void ip6_append_data_mtu ( unsigned int * mtu , //<S2SV> int * maxfraglen , //<S2SV> unsigned int fragheaderlen , //<S2SV> struct sk_buff * skb , //<S2SV> struct rt6_info * rt , //<S2SV> bool pmtuprobe ) //<S2SV> { //<S2SV> if ( ! ( rt -> dst . flags & DST_XFRM_TUNNEL ) ) { //<S2SV> if ( skb == NULL ) { //<S2SV> * mtu = * mtu - rt -> dst . header_len ; //<S2SV> } else { //<S2SV> * mtu = min ( * mtu , pmtuprobe ? //<S2SV> rt -> dst . dev -> mtu : //<S2SV> dst_mtu ( rt -> dst . path ) ) ; //<S2SV> } //<S2SV> * maxfraglen = ( ( * mtu - fragheaderlen ) & ~ 7 ) //<S2SV> + fragheaderlen - sizeof ( struct frag_hdr ) ; //<S2SV> } //<S2SV> } //<S2SV> 