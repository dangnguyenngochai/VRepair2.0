static void xen_netbk_idx_release ( struct xen_netbk * netbk , u16 pending_idx ) //<S2SV> { //<S2SV> struct xenvif * vif ; //<S2SV> struct pending_tx_info * pending_tx_info ; //<S2SV> pending_ring_idx_t index ; //<S2SV> if ( netbk -> mmap_pages [ pending_idx ] == NULL ) //<S2SV> return ; //<S2SV> pending_tx_info = & netbk -> pending_tx_info [ pending_idx ] ; //<S2SV> vif = pending_tx_info -> vif ; //<S2SV> make_tx_response ( vif , & pending_tx_info -> req , XEN_NETIF_RSP_OKAY ) ; //<S2SV> index = pending_index ( netbk -> pending_prod ++ ) ; //<S2SV> netbk -> pending_ring [ index ] = pending_idx ; //<S2SV> xenvif_put ( vif ) ; //<S2SV> netbk -> mmap_pages [ pending_idx ] -> mapping = 0 ; //<S2SV> put_page ( netbk -> mmap_pages [ pending_idx ] ) ; //<S2SV> netbk -> mmap_pages [ pending_idx ] = NULL ; //<S2SV> } //<S2SV> 