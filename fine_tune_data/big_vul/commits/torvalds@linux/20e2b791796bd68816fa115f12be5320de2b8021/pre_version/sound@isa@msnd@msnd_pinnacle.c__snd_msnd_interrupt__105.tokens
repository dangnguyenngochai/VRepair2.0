static irqreturn_t snd_msnd_interrupt ( int irq , void * dev_id ) //<S2SV> { //<S2SV> struct snd_msnd * chip = dev_id ; //<S2SV> void * pwDSPQData = chip -> mappedbase + DSPQ_DATA_BUFF ; //<S2SV> while ( readw ( chip -> DSPQ + JQS_wTail ) != readw ( chip -> DSPQ + JQS_wHead ) ) { //<S2SV> u16 wTmp ; //<S2SV> snd_msnd_eval_dsp_msg ( chip , //<S2SV> readw ( pwDSPQData + 2 * readw ( chip -> DSPQ + JQS_wHead ) ) ) ; //<S2SV> wTmp = readw ( chip -> DSPQ + JQS_wHead ) + 1 ; //<S2SV> if ( wTmp > readw ( chip -> DSPQ + JQS_wSize ) ) //<S2SV> writew ( 0 , chip -> DSPQ + JQS_wHead ) ; //<S2SV> else //<S2SV> writew ( wTmp , chip -> DSPQ + JQS_wHead ) ; //<S2SV> } //<S2SV> inb ( chip -> io + HP_RXL ) ; //<S2SV> return IRQ_HANDLED ; //<S2SV> } //<S2SV> 