static void sas_probe_devices ( struct work_struct * work ) //<S2SV> { //<S2SV> struct domain_device * dev , * n ; //<S2SV> struct sas_discovery_event * ev = to_sas_discovery_event ( work ) ; //<S2SV> struct asd_sas_port * port = ev -> port ; //<S2SV> clear_bit ( DISCE_PROBE , & port -> disc . pending ) ; //<S2SV> list_for_each_entry ( dev , & port -> disco_list , disco_list_node ) { //<S2SV> spin_lock_irq ( & port -> dev_list_lock ) ; //<S2SV> list_add_tail ( & dev -> dev_list_node , & port -> dev_list ) ; //<S2SV> spin_unlock_irq ( & port -> dev_list_lock ) ; //<S2SV> } //<S2SV> sas_probe_sata ( port ) ; //<S2SV> list_for_each_entry_safe ( dev , n , & port -> disco_list , disco_list_node ) { //<S2SV> int err ; //<S2SV> err = sas_rphy_add ( dev -> rphy ) ; //<S2SV> if ( err ) //<S2SV> sas_fail_probe ( dev , __func__ , err ) ; //<S2SV> else //<S2SV> list_del_init ( & dev -> disco_list_node ) ; //<S2SV> } //<S2SV> } //<S2SV> 