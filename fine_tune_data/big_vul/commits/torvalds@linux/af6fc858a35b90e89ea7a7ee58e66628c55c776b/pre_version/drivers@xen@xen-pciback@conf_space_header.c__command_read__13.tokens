static int command_read ( struct pci_dev * dev , int offset , u16 * value , void * data ) //<S2SV> { //<S2SV> int i ; //<S2SV> int ret ; //<S2SV> ret = xen_pcibk_read_config_word ( dev , offset , value , data ) ; //<S2SV> if ( ! pci_is_enabled ( dev ) ) //<S2SV> return ret ; //<S2SV> for ( i = 0 ; i < PCI_ROM_RESOURCE ; i ++ ) { //<S2SV> if ( dev -> resource [ i ] . flags & IORESOURCE_IO ) //<S2SV> * value |= PCI_COMMAND_IO ; //<S2SV> if ( dev -> resource [ i ] . flags & IORESOURCE_MEM ) //<S2SV> * value |= PCI_COMMAND_MEMORY ; //<S2SV> } //<S2SV> return ret ; //<S2SV> } //<S2SV> 