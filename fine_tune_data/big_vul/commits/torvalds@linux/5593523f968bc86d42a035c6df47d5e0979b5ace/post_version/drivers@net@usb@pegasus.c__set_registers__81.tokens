static int set_registers ( pegasus_t * pegasus , __u16 indx , __u16 size , //<S2SV> const void * data ) //<S2SV> { //<S2SV> u8 * buf ; //<S2SV> int ret ; //<S2SV> buf = kmemdup ( data , size , GFP_NOIO ) ; //<S2SV> if ( ! buf ) //<S2SV> return - ENOMEM ; //<S2SV> ret = usb_control_msg ( pegasus -> usb , usb_sndctrlpipe ( pegasus -> usb , 0 ) , //<S2SV> PEGASUS_REQ_SET_REGS , PEGASUS_REQT_WRITE , 0 , //<S2SV> indx , buf , size , 100 ) ; //<S2SV> if ( ret < 0 ) //<S2SV> netif_dbg ( pegasus , drv , pegasus -> net , //<S2SV> "%s<S2SV_blank>returned<S2SV_blank>%d\\n" , __func__ , ret ) ; //<S2SV> kfree ( buf ) ; //<S2SV> return ret ; //<S2SV> } //<S2SV> 