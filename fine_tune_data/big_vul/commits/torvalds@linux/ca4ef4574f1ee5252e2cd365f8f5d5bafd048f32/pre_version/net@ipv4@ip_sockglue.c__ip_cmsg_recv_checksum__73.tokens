static void ip_cmsg_recv_checksum ( struct msghdr * msg , struct sk_buff * skb , //<S2SV> int tlen , int offset ) //<S2SV> { //<S2SV> __wsum csum = skb -> csum ; //<S2SV> if ( skb -> ip_summed != CHECKSUM_COMPLETE ) //<S2SV> return ; //<S2SV> if ( offset != 0 ) //<S2SV> csum = csum_sub ( csum , //<S2SV> csum_partial ( skb_transport_header ( skb ) + tlen , //<S2SV> offset , 0 ) ) ; //<S2SV> put_cmsg ( msg , SOL_IP , IP_CHECKSUM , sizeof ( __wsum ) , & csum ) ; //<S2SV> } //<S2SV> 