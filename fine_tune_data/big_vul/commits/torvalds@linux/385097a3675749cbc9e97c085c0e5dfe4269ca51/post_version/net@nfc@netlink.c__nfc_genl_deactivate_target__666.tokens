static int nfc_genl_deactivate_target ( struct sk_buff * skb , //<S2SV> struct genl_info * info ) //<S2SV> { //<S2SV> struct nfc_dev * dev ; //<S2SV> u32 device_idx , target_idx ; //<S2SV> int rc ; //<S2SV> if ( ! info -> attrs [ NFC_ATTR_DEVICE_INDEX ] || //<S2SV> ! info -> attrs [ NFC_ATTR_TARGET_INDEX ] ) //<S2SV> return - EINVAL ; //<S2SV> device_idx = nla_get_u32 ( info -> attrs [ NFC_ATTR_DEVICE_INDEX ] ) ; //<S2SV> dev = nfc_get_device ( device_idx ) ; //<S2SV> if ( ! dev ) //<S2SV> return - ENODEV ; //<S2SV> target_idx = nla_get_u32 ( info -> attrs [ NFC_ATTR_TARGET_INDEX ] ) ; //<S2SV> rc = nfc_deactivate_target ( dev , target_idx , NFC_TARGET_MODE_SLEEP ) ; //<S2SV> nfc_put_device ( dev ) ; //<S2SV> return rc ; //<S2SV> } //<S2SV> 