static int //<S2SV> nfs4_callback_svc ( void * vrqstp ) //<S2SV> { //<S2SV> int err ; //<S2SV> struct svc_rqst * rqstp = vrqstp ; //<S2SV> set_freezable ( ) ; //<S2SV> while ( ! kthread_freezable_should_stop ( NULL ) ) { //<S2SV> if ( signal_pending ( current ) ) //<S2SV> flush_signals ( current ) ; //<S2SV> err = svc_recv ( rqstp , MAX_SCHEDULE_TIMEOUT ) ; //<S2SV> if ( err == - EAGAIN || err == - EINTR ) //<S2SV> continue ; //<S2SV> svc_process ( rqstp ) ; //<S2SV> } //<S2SV> svc_exit_thread ( rqstp ) ; //<S2SV> module_put_and_exit ( 0 ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> 