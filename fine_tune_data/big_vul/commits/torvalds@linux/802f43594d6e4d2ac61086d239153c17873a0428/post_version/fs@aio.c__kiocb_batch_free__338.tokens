static void kiocb_batch_free ( struct kioctx * ctx , struct kiocb_batch * batch ) //<S2SV> { //<S2SV> struct kiocb * req , * n ; //<S2SV> if ( list_empty ( & batch -> head ) ) //<S2SV> return ; //<S2SV> spin_lock_irq ( & ctx -> ctx_lock ) ; //<S2SV> list_for_each_entry_safe ( req , n , & batch -> head , ki_batch ) { //<S2SV> list_del ( & req -> ki_batch ) ; //<S2SV> list_del ( & req -> ki_list ) ; //<S2SV> kmem_cache_free ( kiocb_cachep , req ) ; //<S2SV> ctx -> reqs_active -- ; //<S2SV> } //<S2SV> spin_unlock_irq ( & ctx -> ctx_lock ) ; //<S2SV> } //<S2SV> 