struct crypto_alg * crypto_larval_lookup ( const char * name , u32 type , u32 mask ) //<S2SV> { //<S2SV> struct crypto_alg * alg ; //<S2SV> if ( ! name ) //<S2SV> return ERR_PTR ( - ENOENT ) ; //<S2SV> mask &= ~ ( CRYPTO_ALG_LARVAL | CRYPTO_ALG_DEAD ) ; //<S2SV> type &= mask ; //<S2SV> alg = crypto_alg_lookup ( name , type , mask ) ; //<S2SV> if ( ! alg ) { //<S2SV> request_module ( "crypto-%s" , name ) ; //<S2SV> if ( ! ( ( type ^ CRYPTO_ALG_NEED_FALLBACK ) & mask & //<S2SV> CRYPTO_ALG_NEED_FALLBACK ) ) //<S2SV> request_module ( "crypto-%s-all" , name ) ; //<S2SV> alg = crypto_alg_lookup ( name , type , mask ) ; //<S2SV> } //<S2SV> if ( alg ) //<S2SV> return crypto_is_larval ( alg ) ? crypto_larval_wait ( alg ) : alg ; //<S2SV> return crypto_larval_add ( name , type , mask ) ; //<S2SV> } //<S2SV> 