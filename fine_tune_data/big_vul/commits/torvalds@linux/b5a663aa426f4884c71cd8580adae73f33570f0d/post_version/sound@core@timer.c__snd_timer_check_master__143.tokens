static void snd_timer_check_master ( struct snd_timer_instance * master ) //<S2SV> { //<S2SV> struct snd_timer_instance * slave , * tmp ; //<S2SV> list_for_each_entry_safe ( slave , tmp , & snd_timer_slave_list , open_list ) { //<S2SV> if ( slave -> slave_class == master -> slave_class && //<S2SV> slave -> slave_id == master -> slave_id ) { //<S2SV> list_move_tail ( & slave -> open_list , & master -> slave_list_head ) ; //<S2SV> spin_lock_irq ( & slave_active_lock ) ; //<S2SV> spin_lock ( & master -> timer -> lock ) ; //<S2SV> slave -> master = master ; //<S2SV> slave -> timer = master -> timer ; //<S2SV> if ( slave -> flags & SNDRV_TIMER_IFLG_RUNNING ) //<S2SV> list_add_tail ( & slave -> active_list , //<S2SV> & master -> slave_active_head ) ; //<S2SV> spin_unlock ( & master -> timer -> lock ) ; //<S2SV> spin_unlock_irq ( & slave_active_lock ) ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> 