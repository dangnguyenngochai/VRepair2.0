static int kvm_iommu_unmap_memslots ( struct kvm * kvm ) //<S2SV> { //<S2SV> int idx ; //<S2SV> struct kvm_memslots * slots ; //<S2SV> struct kvm_memory_slot * memslot ; //<S2SV> idx = srcu_read_lock ( & kvm -> srcu ) ; //<S2SV> slots = kvm_memslots ( kvm ) ; //<S2SV> kvm_for_each_memslot ( memslot , slots ) //<S2SV> kvm_iommu_unmap_pages ( kvm , memslot ) ; //<S2SV> srcu_read_unlock ( & kvm -> srcu , idx ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> 