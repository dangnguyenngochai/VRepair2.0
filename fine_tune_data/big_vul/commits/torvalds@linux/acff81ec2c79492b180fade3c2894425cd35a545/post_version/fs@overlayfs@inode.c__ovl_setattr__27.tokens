int ovl_setattr ( struct dentry * dentry , struct iattr * attr ) //<S2SV> { //<S2SV> int err ; //<S2SV> struct dentry * upperdentry ; //<S2SV> err = ovl_want_write ( dentry ) ; //<S2SV> if ( err ) //<S2SV> goto out ; //<S2SV> err = ovl_copy_up ( dentry ) ; //<S2SV> if ( ! err ) { //<S2SV> upperdentry = ovl_dentry_upper ( dentry ) ; //<S2SV> mutex_lock ( & upperdentry -> d_inode -> i_mutex ) ; //<S2SV> err = notify_change ( upperdentry , attr , NULL ) ; //<S2SV> mutex_unlock ( & upperdentry -> d_inode -> i_mutex ) ; //<S2SV> } //<S2SV> ovl_drop_write ( dentry ) ; //<S2SV> out : //<S2SV> return err ; //<S2SV> } //<S2SV> 