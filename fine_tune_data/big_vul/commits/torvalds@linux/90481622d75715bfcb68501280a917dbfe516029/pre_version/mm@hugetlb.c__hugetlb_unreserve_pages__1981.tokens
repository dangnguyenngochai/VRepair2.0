void hugetlb_unreserve_pages ( struct inode * inode , long offset , long freed ) //<S2SV> { //<S2SV> struct hstate * h = hstate_inode ( inode ) ; //<S2SV> long chg = region_truncate ( & inode -> i_mapping -> private_list , offset ) ; //<S2SV> spin_lock ( & inode -> i_lock ) ; //<S2SV> inode -> i_blocks -= ( blocks_per_huge_page ( h ) * freed ) ; //<S2SV> spin_unlock ( & inode -> i_lock ) ; //<S2SV> hugetlb_put_quota ( inode -> i_mapping , ( chg - freed ) ) ; //<S2SV> hugetlb_acct_memory ( h , - ( chg - freed ) ) ; //<S2SV> } //<S2SV> 