struct timespec ns_to_timespec ( const s64 nsec ) //<S2SV> { //<S2SV> struct timespec ts ; //<S2SV> if ( ! nsec ) //<S2SV> return ( struct timespec ) { 0 , 0 } ; //<S2SV> ts . tv_sec = div_long_long_rem_signed ( nsec , NSEC_PER_SEC , & ts . tv_nsec ) ; //<S2SV> if ( unlikely ( nsec < 0 ) ) //<S2SV> set_normalized_timespec ( & ts , ts . tv_sec , ts . tv_nsec ) ; //<S2SV> return ts ; //<S2SV> } //<S2SV> 