void //<S2SV> Strgrow ( Str x ) //<S2SV> { //<S2SV> char * old = x -> ptr ; //<S2SV> int newlen ; //<S2SV> newlen = x -> area_size * 6 / 5 ; //<S2SV> if ( newlen == x -> area_size ) //<S2SV> newlen += 2 ; //<S2SV> x -> ptr = GC_MALLOC_ATOMIC ( newlen ) ; //<S2SV> x -> area_size = newlen ; //<S2SV> bcopy ( ( void * ) old , ( void * ) x -> ptr , x -> length ) ; //<S2SV> GC_free ( old ) ; //<S2SV> } //<S2SV> 