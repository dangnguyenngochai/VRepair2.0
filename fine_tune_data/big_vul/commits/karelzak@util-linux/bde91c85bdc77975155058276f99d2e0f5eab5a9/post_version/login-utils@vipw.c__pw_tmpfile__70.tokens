static FILE * pw_tmpfile ( int lockfd ) //<S2SV> { //<S2SV> FILE * fd ; //<S2SV> char * tmpname = NULL ; //<S2SV> if ( ( fd = xfmkstemp ( & tmpname , "/etc" , ".vipw" ) ) == NULL ) { //<S2SV> ulckpwdf ( ) ; //<S2SV> err ( EXIT_FAILURE , _ ( "can\'t<S2SV_blank>open<S2SV_blank>temporary<S2SV_blank>file" ) ) ; //<S2SV> } //<S2SV> copyfile ( lockfd , fileno ( fd ) ) ; //<S2SV> tmp_file = tmpname ; //<S2SV> return fd ; //<S2SV> } //<S2SV> 