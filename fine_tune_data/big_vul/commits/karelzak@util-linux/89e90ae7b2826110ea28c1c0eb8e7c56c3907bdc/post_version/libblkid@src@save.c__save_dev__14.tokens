static int save_dev ( blkid_dev dev , FILE * file ) //<S2SV> { //<S2SV> struct list_head * p ; //<S2SV> if ( ! dev || dev -> bid_name [ 0 ] != '/' ) //<S2SV> return 0 ; //<S2SV> DBG ( SAVE , ul_debug ( "device<S2SV_blank>%s,<S2SV_blank>type<S2SV_blank>%s" , dev -> bid_name , dev -> bid_type ? //<S2SV> dev -> bid_type : "(null)" ) ) ; //<S2SV> fprintf ( file , "<device<S2SV_blank>DEVNO=\\"0x%04lx\\"<S2SV_blank>TIME=\\"%ld.%ld\\"" , //<S2SV> ( unsigned long ) dev -> bid_devno , //<S2SV> ( long ) dev -> bid_time , //<S2SV> ( long ) dev -> bid_utime ) ; //<S2SV> if ( dev -> bid_pri ) //<S2SV> fprintf ( file , "<S2SV_blank>PRI=\\"%d\\"" , dev -> bid_pri ) ; //<S2SV> list_for_each ( p , & dev -> bid_tags ) { //<S2SV> blkid_tag tag = list_entry ( p , struct blkid_struct_tag , bit_tags ) ; //<S2SV> fputc ( '<S2SV_blank>' , file ) ; //<S2SV> fputs ( tag -> bit_name , file ) ; //<S2SV> fputc ( '=' , file ) ; //<S2SV> save_quoted ( tag -> bit_val , file ) ; //<S2SV> } //<S2SV> fprintf ( file , ">%s</device>\\n" , dev -> bid_name ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> 