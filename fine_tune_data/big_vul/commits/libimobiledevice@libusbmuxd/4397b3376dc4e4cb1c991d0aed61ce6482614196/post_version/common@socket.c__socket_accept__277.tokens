int socket_accept ( int fd , uint16_t port ) //<S2SV> { //<S2SV> # ifdef WIN32 //<S2SV> int addr_len ; //<S2SV> # else //<S2SV> socklen_t addr_len ; //<S2SV> # endif //<S2SV> int result ; //<S2SV> struct sockaddr_in addr ; //<S2SV> memset ( & addr , 0 , sizeof ( addr ) ) ; //<S2SV> addr . sin_family = AF_INET ; //<S2SV> addr . sin_addr . s_addr = htonl ( INADDR_LOOPBACK ) ; //<S2SV> addr . sin_port = htons ( port ) ; //<S2SV> addr_len = sizeof ( addr ) ; //<S2SV> result = accept ( fd , ( struct sockaddr * ) & addr , & addr_len ) ; //<S2SV> return result ; //<S2SV> } //<S2SV> 