static void sum_intra_stats ( VP8_COMP * cpi , MACROBLOCK * x ) //<S2SV> { //<S2SV> const MACROBLOCKD * xd = & x -> e_mbd ; //<S2SV> const MB_PREDICTION_MODE m = xd -> mode_info_context -> mbmi . mode ; //<S2SV> const MB_PREDICTION_MODE uvm = xd -> mode_info_context -> mbmi . uv_mode ; //<S2SV> # ifdef MODE_STATS //<S2SV> const int is_key = cpi -> common . frame_type == KEY_FRAME ; //<S2SV> ++ ( is_key ? uv_modes : inter_uv_modes ) [ uvm ] ; //<S2SV> if ( m == B_PRED ) //<S2SV> { //<S2SV> unsigned int * const bct = is_key ? b_modes : inter_b_modes ; //<S2SV> int b = 0 ; //<S2SV> do //<S2SV> { //<S2SV> ++ bct [ xd -> block [ b ] . bmi . mode ] ; //<S2SV> } //<S2SV> while ( ++ b < 16 ) ; //<S2SV> } //<S2SV> # else //<S2SV> ( void ) cpi ; //<S2SV> # endif //<S2SV> ++ x -> ymode_count [ m ] ; //<S2SV> ++ x -> uv_mode_count [ uvm ] ; //<S2SV> } //<S2SV> 