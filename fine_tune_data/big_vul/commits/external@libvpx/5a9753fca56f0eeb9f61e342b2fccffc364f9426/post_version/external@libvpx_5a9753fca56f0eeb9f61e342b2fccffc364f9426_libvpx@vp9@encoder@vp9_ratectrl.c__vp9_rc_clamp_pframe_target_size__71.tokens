int vp9_rc_clamp_pframe_target_size ( const VP9_COMP * const cpi , int target ) { //<S2SV> const RATE_CONTROL * rc = & cpi -> rc ; //<S2SV> const VP9EncoderConfig * oxcf = & cpi -> oxcf ; //<S2SV> const int min_frame_target = MAX ( rc -> min_frame_bandwidth , //<S2SV> rc -> avg_frame_bandwidth >> 5 ) ; //<S2SV> if ( target < min_frame_target ) //<S2SV> target = min_frame_target ; //<S2SV> if ( cpi -> refresh_golden_frame && rc -> is_src_frame_alt_ref ) { //<S2SV> target = min_frame_target ; //<S2SV> } //<S2SV> if ( target > rc -> max_frame_bandwidth ) //<S2SV> target = rc -> max_frame_bandwidth ; //<S2SV> if ( oxcf -> rc_max_inter_bitrate_pct ) { //<S2SV> const int max_rate = rc -> avg_frame_bandwidth * //<S2SV> oxcf -> rc_max_inter_bitrate_pct / 100 ; //<S2SV> target = MIN ( target , max_rate ) ; //<S2SV> } //<S2SV> return target ; //<S2SV> } //<S2SV> 