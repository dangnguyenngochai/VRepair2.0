static int calc_pframe_target_size_one_pass_vbr ( const VP9_COMP * const cpi ) { //<S2SV> static const int af_ratio = 10 ; //<S2SV> const RATE_CONTROL * const rc = & cpi -> rc ; //<S2SV> int target ; //<S2SV> # if USE_ALTREF_FOR_ONE_PASS //<S2SV> target = ( ! rc -> is_src_frame_alt_ref && //<S2SV> ( cpi -> refresh_golden_frame || cpi -> refresh_alt_ref_frame ) ) ? //<S2SV> ( rc -> avg_frame_bandwidth * rc -> baseline_gf_interval * af_ratio ) / //<S2SV> ( rc -> baseline_gf_interval + af_ratio - 1 ) : //<S2SV> ( rc -> avg_frame_bandwidth * rc -> baseline_gf_interval ) / //<S2SV> ( rc -> baseline_gf_interval + af_ratio - 1 ) ; //<S2SV> # else //<S2SV> target = rc -> avg_frame_bandwidth ; //<S2SV> # endif //<S2SV> return vp9_rc_clamp_pframe_target_size ( cpi , target ) ; //<S2SV> } //<S2SV> 