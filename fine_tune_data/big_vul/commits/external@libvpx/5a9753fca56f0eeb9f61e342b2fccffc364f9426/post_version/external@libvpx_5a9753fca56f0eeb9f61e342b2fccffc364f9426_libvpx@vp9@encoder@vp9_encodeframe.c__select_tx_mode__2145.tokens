static TX_MODE select_tx_mode ( const VP9_COMP * cpi , MACROBLOCKD * const xd ) { //<S2SV> if ( xd -> lossless ) //<S2SV> return ONLY_4X4 ; //<S2SV> if ( cpi -> common . frame_type == KEY_FRAME && //<S2SV> cpi -> sf . use_nonrd_pick_mode ) //<S2SV> return ALLOW_16X16 ; //<S2SV> if ( cpi -> sf . tx_size_search_method == USE_LARGESTALL ) //<S2SV> return ALLOW_32X32 ; //<S2SV> else if ( cpi -> sf . tx_size_search_method == USE_FULL_RD || //<S2SV> cpi -> sf . tx_size_search_method == USE_TX_8X8 ) //<S2SV> return TX_MODE_SELECT ; //<S2SV> else //<S2SV> return cpi -> common . tx_mode ; //<S2SV> } //<S2SV> 