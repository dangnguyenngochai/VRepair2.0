int vp9_get_raw_frame ( VP9Decoder * pbi , YV12_BUFFER_CONFIG * sd , //<S2SV> vp9_ppflags_t * flags ) { //<S2SV> VP9_COMMON * const cm = & pbi -> common ; //<S2SV> int ret = - 1 ; //<S2SV> # if ! CONFIG_VP9_POSTPROC //<S2SV> ( void ) * flags ; //<S2SV> # endif //<S2SV> if ( pbi -> ready_for_new_data == 1 ) //<S2SV> return ret ; //<S2SV> pbi -> ready_for_new_data = 1 ; //<S2SV> if ( ! cm -> show_frame ) //<S2SV> return ret ; //<S2SV> pbi -> ready_for_new_data = 1 ; //<S2SV> # if CONFIG_VP9_POSTPROC //<S2SV> if ( ! cm -> show_existing_frame ) { //<S2SV> ret = vp9_post_proc_frame ( cm , sd , flags ) ; //<S2SV> } else { //<S2SV> * sd = * cm -> frame_to_show ; //<S2SV> ret = 0 ; //<S2SV> } //<S2SV> # else //<S2SV> * sd = * cm -> frame_to_show ; //<S2SV> ret = 0 ; //<S2SV> # endif //<S2SV> vpx_clear_system_state ( ) ; //<S2SV> return ret ; //<S2SV> } //<S2SV> 