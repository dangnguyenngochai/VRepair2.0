static void update_alt_ref_frame_stats ( VP8_COMP * cpi ) //<S2SV> { //<S2SV> VP8_COMMON * cm = & cpi -> common ; //<S2SV> if ( ! cpi -> auto_gold ) //<S2SV> cpi -> frames_till_gf_update_due = DEFAULT_GF_INTERVAL ; //<S2SV> if ( ( cpi -> pass != 2 ) && cpi -> frames_till_gf_update_due ) //<S2SV> { //<S2SV> cpi -> current_gf_interval = cpi -> frames_till_gf_update_due ; //<S2SV> cpi -> gf_overspend_bits += cpi -> projected_frame_size ; //<S2SV> cpi -> non_gf_bitrate_adjustment = cpi -> gf_overspend_bits / cpi -> frames_till_gf_update_due ; //<S2SV> } //<S2SV> memset ( cpi -> gf_active_flags , 1 , ( cm -> mb_rows * cm -> mb_cols ) ) ; //<S2SV> cpi -> gf_active_count = cm -> mb_rows * cm -> mb_cols ; //<S2SV> cpi -> frames_since_golden = 0 ; //<S2SV> cpi -> source_alt_ref_pending = 0 ; //<S2SV> cpi -> source_alt_ref_active = 1 ; //<S2SV> } //<S2SV> 