static void validate_stream_config ( const struct stream_state * stream , //<S2SV> const struct VpxEncoderConfig * global ) { //<S2SV> const struct stream_state * streami ; //<S2SV> ( void ) global ; //<S2SV> if ( ! stream -> config . cfg . g_w || ! stream -> config . cfg . g_h ) //<S2SV> fatal ( "Stream<S2SV_blank>%d:<S2SV_blank>Specify<S2SV_blank>stream<S2SV_blank>dimensions<S2SV_blank>with<S2SV_blank>--width<S2SV_blank>(-w)<S2SV_blank>" //<S2SV> "<S2SV_blank>and<S2SV_blank>--height<S2SV_blank>(-h)" , stream -> index ) ; //<S2SV> if ( stream -> config . cfg . g_input_bit_depth > //<S2SV> ( unsigned int ) stream -> config . cfg . g_bit_depth ) { //<S2SV> fatal ( "Stream<S2SV_blank>%d:<S2SV_blank>codec<S2SV_blank>bit<S2SV_blank>depth<S2SV_blank>(%d)<S2SV_blank>less<S2SV_blank>than<S2SV_blank>input<S2SV_blank>bit<S2SV_blank>depth<S2SV_blank>(%d)" , //<S2SV> stream -> index , ( int ) stream -> config . cfg . g_bit_depth , //<S2SV> stream -> config . cfg . g_input_bit_depth ) ; //<S2SV> } //<S2SV> for ( streami = stream ; streami ; streami = streami -> next ) { //<S2SV> if ( ! streami -> config . out_fn ) //<S2SV> fatal ( "Stream<S2SV_blank>%d:<S2SV_blank>Output<S2SV_blank>file<S2SV_blank>is<S2SV_blank>required<S2SV_blank>(specify<S2SV_blank>with<S2SV_blank>-o)" , //<S2SV> streami -> index ) ; //<S2SV> if ( streami != stream ) { //<S2SV> const char * a = stream -> config . out_fn ; //<S2SV> const char * b = streami -> config . out_fn ; //<S2SV> if ( ! strcmp ( a , b ) && strcmp ( a , "/dev/null" ) && strcmp ( a , ":nul" ) ) //<S2SV> fatal ( "Stream<S2SV_blank>%d:<S2SV_blank>duplicate<S2SV_blank>output<S2SV_blank>file<S2SV_blank>(from<S2SV_blank>stream<S2SV_blank>%d)" , //<S2SV> streami -> index , stream -> index ) ; //<S2SV> } //<S2SV> if ( streami != stream ) { //<S2SV> const char * a = stream -> config . stats_fn ; //<S2SV> const char * b = streami -> config . stats_fn ; //<S2SV> if ( a && b && ! strcmp ( a , b ) ) //<S2SV> fatal ( "Stream<S2SV_blank>%d:<S2SV_blank>duplicate<S2SV_blank>stats<S2SV_blank>file<S2SV_blank>(from<S2SV_blank>stream<S2SV_blank>%d)" , //<S2SV> streami -> index , stream -> index ) ; //<S2SV> } //<S2SV> # if CONFIG_FP_MB_STATS //<S2SV> if ( streami != stream ) { //<S2SV> const char * a = stream -> config . fpmb_stats_fn ; //<S2SV> const char * b = streami -> config . fpmb_stats_fn ; //<S2SV> if ( a && b && ! strcmp ( a , b ) ) //<S2SV> fatal ( "Stream<S2SV_blank>%d:<S2SV_blank>duplicate<S2SV_blank>mb<S2SV_blank>stats<S2SV_blank>file<S2SV_blank>(from<S2SV_blank>stream<S2SV_blank>%d)" , //<S2SV> streami -> index , stream -> index ) ; //<S2SV> } //<S2SV> # endif //<S2SV> } //<S2SV> } //<S2SV> 