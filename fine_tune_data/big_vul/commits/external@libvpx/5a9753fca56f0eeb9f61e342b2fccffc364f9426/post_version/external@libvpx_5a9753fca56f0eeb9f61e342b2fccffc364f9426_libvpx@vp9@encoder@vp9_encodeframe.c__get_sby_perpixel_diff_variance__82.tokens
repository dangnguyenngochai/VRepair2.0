static unsigned int get_sby_perpixel_diff_variance ( VP9_COMP * cpi , //<S2SV> const struct buf_2d * ref , //<S2SV> int mi_row , int mi_col , //<S2SV> BLOCK_SIZE bs ) { //<S2SV> unsigned int sse , var ; //<S2SV> uint8_t * last_y ; //<S2SV> const YV12_BUFFER_CONFIG * last = get_ref_frame_buffer ( cpi , LAST_FRAME ) ; //<S2SV> assert ( last != NULL ) ; //<S2SV> last_y = //<S2SV> & last -> y_buffer [ mi_row * MI_SIZE * last -> y_stride + mi_col * MI_SIZE ] ; //<S2SV> var = cpi -> fn_ptr [ bs ] . vf ( ref -> buf , ref -> stride , last_y , last -> y_stride , & sse ) ; //<S2SV> return ROUND_POWER_OF_TWO ( var , num_pels_log2_lookup [ bs ] ) ; //<S2SV> } //<S2SV> 