static LAYER_CONTEXT * get_layer_context ( VP9_COMP * const cpi ) { //<S2SV> if ( is_one_pass_cbr_svc ( cpi ) ) //<S2SV> return & cpi -> svc . layer_context [ cpi -> svc . spatial_layer_id * //<S2SV> cpi -> svc . number_temporal_layers + cpi -> svc . temporal_layer_id ] ; //<S2SV> else //<S2SV> return ( cpi -> svc . number_temporal_layers > 1 && //<S2SV> cpi -> oxcf . rc_mode == VPX_CBR ) ? //<S2SV> & cpi -> svc . layer_context [ cpi -> svc . temporal_layer_id ] : //<S2SV> & cpi -> svc . layer_context [ cpi -> svc . spatial_layer_id ] ; //<S2SV> } //<S2SV> 