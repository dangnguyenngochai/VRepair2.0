static void set_active_map ( const vpx_codec_enc_cfg_t * cfg , //<S2SV> vpx_codec_ctx_t * codec ) { //<S2SV> unsigned int i ; //<S2SV> vpx_active_map_t map = { 0 , 0 , 0 } ; //<S2SV> map . rows = ( cfg -> g_h + 15 ) / 16 ; //<S2SV> map . cols = ( cfg -> g_w + 15 ) / 16 ; //<S2SV> map . active_map = ( uint8_t * ) malloc ( map . rows * map . cols ) ; //<S2SV> for ( i = 0 ; i < map . rows * map . cols ; ++ i ) //<S2SV> map . active_map [ i ] = i % 2 ; //<S2SV> if ( vpx_codec_control ( codec , VP8E_SET_ACTIVEMAP , & map ) ) //<S2SV> die_codec ( codec , "Failed<S2SV_blank>to<S2SV_blank>set<S2SV_blank>active<S2SV_blank>map" ) ; //<S2SV> free ( map . active_map ) ; //<S2SV> } //<S2SV> 