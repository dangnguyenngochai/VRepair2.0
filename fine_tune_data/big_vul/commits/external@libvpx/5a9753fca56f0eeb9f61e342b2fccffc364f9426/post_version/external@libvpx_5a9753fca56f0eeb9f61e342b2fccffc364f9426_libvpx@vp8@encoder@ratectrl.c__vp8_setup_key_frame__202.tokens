void vp8_setup_key_frame ( VP8_COMP * cpi ) //<S2SV> { //<S2SV> vp8_default_coef_probs ( & cpi -> common ) ; //<S2SV> memcpy ( cpi -> common . fc . mvc , vp8_default_mv_context , sizeof ( vp8_default_mv_context ) ) ; //<S2SV> { //<S2SV> int flag [ 2 ] = { 1 , 1 } ; //<S2SV> vp8_build_component_cost_table ( cpi -> mb . mvcost , ( const MV_CONTEXT * ) cpi -> common . fc . mvc , flag ) ; //<S2SV> } //<S2SV> memcpy ( & cpi -> lfc_a , & cpi -> common . fc , sizeof ( cpi -> common . fc ) ) ; //<S2SV> memcpy ( & cpi -> lfc_g , & cpi -> common . fc , sizeof ( cpi -> common . fc ) ) ; //<S2SV> memcpy ( & cpi -> lfc_n , & cpi -> common . fc , sizeof ( cpi -> common . fc ) ) ; //<S2SV> cpi -> common . filter_level = cpi -> common . base_qindex * 3 / 8 ; //<S2SV> if ( cpi -> auto_gold ) //<S2SV> cpi -> frames_till_gf_update_due = cpi -> baseline_gf_interval ; //<S2SV> else //<S2SV> cpi -> frames_till_gf_update_due = DEFAULT_GF_INTERVAL ; //<S2SV> cpi -> common . refresh_golden_frame = 1 ; //<S2SV> cpi -> common . refresh_alt_ref_frame = 1 ; //<S2SV> } //<S2SV> 