void vp9_restore_layer_context ( VP9_COMP * const cpi ) { //<S2SV> LAYER_CONTEXT * const lc = get_layer_context ( cpi ) ; //<S2SV> const int old_frame_since_key = cpi -> rc . frames_since_key ; //<S2SV> const int old_frame_to_key = cpi -> rc . frames_to_key ; //<S2SV> cpi -> rc = lc -> rc ; //<S2SV> cpi -> twopass = lc -> twopass ; //<S2SV> cpi -> oxcf . target_bandwidth = lc -> target_bandwidth ; //<S2SV> cpi -> alt_ref_source = lc -> alt_ref_source ; //<S2SV> if ( cpi -> svc . number_temporal_layers > 1 ) { //<S2SV> cpi -> rc . frames_since_key = old_frame_since_key ; //<S2SV> cpi -> rc . frames_to_key = old_frame_to_key ; //<S2SV> } //<S2SV> } //<S2SV> 