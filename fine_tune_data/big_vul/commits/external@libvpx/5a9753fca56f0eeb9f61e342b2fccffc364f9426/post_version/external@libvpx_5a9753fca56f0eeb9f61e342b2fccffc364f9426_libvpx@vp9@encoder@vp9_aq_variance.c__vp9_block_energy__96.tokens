int vp9_block_energy ( VP9_COMP * cpi , MACROBLOCK * x , BLOCK_SIZE bs ) { //<S2SV> double energy ; //<S2SV> double energy_midpoint ; //<S2SV> vpx_clear_system_state ( ) ; //<S2SV> energy_midpoint = //<S2SV> ( cpi -> oxcf . pass == 2 ) ? cpi -> twopass . mb_av_energy : DEFAULT_E_MIDPOINT ; //<S2SV> energy = vp9_log_block_var ( cpi , x , bs ) - energy_midpoint ; //<S2SV> return clamp ( ( int ) round ( energy ) , ENERGY_MIN , ENERGY_MAX ) ; //<S2SV> } //<S2SV> 