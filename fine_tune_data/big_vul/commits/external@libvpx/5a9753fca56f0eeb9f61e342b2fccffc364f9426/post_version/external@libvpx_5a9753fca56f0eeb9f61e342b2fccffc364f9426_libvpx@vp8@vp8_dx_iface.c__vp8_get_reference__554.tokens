static vpx_codec_err_t vp8_get_reference ( vpx_codec_alg_priv_t * ctx , //<S2SV> va_list args ) //<S2SV> { //<S2SV> vpx_ref_frame_t * data = va_arg ( args , vpx_ref_frame_t * ) ; //<S2SV> if ( data && ! ctx -> yv12_frame_buffers . use_frame_threads ) //<S2SV> { //<S2SV> vpx_ref_frame_t * frame = ( vpx_ref_frame_t * ) data ; //<S2SV> YV12_BUFFER_CONFIG sd ; //<S2SV> image2yuvconfig ( & frame -> img , & sd ) ; //<S2SV> return vp8dx_get_reference ( ctx -> yv12_frame_buffers . pbi [ 0 ] , //<S2SV> frame -> frame_type , & sd ) ; //<S2SV> } //<S2SV> else //<S2SV> return VPX_CODEC_INVALID_PARAM ; //<S2SV> } //<S2SV> 