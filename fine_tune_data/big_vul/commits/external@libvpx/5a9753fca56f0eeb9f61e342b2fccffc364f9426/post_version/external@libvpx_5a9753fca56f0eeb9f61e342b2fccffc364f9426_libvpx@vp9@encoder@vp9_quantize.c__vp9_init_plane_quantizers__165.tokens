void vp9_init_plane_quantizers ( VP9_COMP * cpi , MACROBLOCK * x ) { //<S2SV> const VP9_COMMON * const cm = & cpi -> common ; //<S2SV> MACROBLOCKD * const xd = & x -> e_mbd ; //<S2SV> QUANTS * const quants = & cpi -> quants ; //<S2SV> const int segment_id = xd -> mi [ 0 ] -> mbmi . segment_id ; //<S2SV> const int qindex = vp9_get_qindex ( & cm -> seg , segment_id , cm -> base_qindex ) ; //<S2SV> const int rdmult = vp9_compute_rd_mult ( cpi , qindex + cm -> y_dc_delta_q ) ; //<S2SV> int i ; //<S2SV> x -> plane [ 0 ] . quant = quants -> y_quant [ qindex ] ; //<S2SV> x -> plane [ 0 ] . quant_fp = quants -> y_quant_fp [ qindex ] ; //<S2SV> x -> plane [ 0 ] . round_fp = quants -> y_round_fp [ qindex ] ; //<S2SV> x -> plane [ 0 ] . quant_shift = quants -> y_quant_shift [ qindex ] ; //<S2SV> x -> plane [ 0 ] . zbin = quants -> y_zbin [ qindex ] ; //<S2SV> x -> plane [ 0 ] . round = quants -> y_round [ qindex ] ; //<S2SV> xd -> plane [ 0 ] . dequant = cpi -> y_dequant [ qindex ] ; //<S2SV> x -> plane [ 0 ] . quant_thred [ 0 ] = x -> plane [ 0 ] . zbin [ 0 ] * x -> plane [ 0 ] . zbin [ 0 ] ; //<S2SV> x -> plane [ 0 ] . quant_thred [ 1 ] = x -> plane [ 0 ] . zbin [ 1 ] * x -> plane [ 0 ] . zbin [ 1 ] ; //<S2SV> for ( i = 1 ; i < 3 ; i ++ ) { //<S2SV> x -> plane [ i ] . quant = quants -> uv_quant [ qindex ] ; //<S2SV> x -> plane [ i ] . quant_fp = quants -> uv_quant_fp [ qindex ] ; //<S2SV> x -> plane [ i ] . round_fp = quants -> uv_round_fp [ qindex ] ; //<S2SV> x -> plane [ i ] . quant_shift = quants -> uv_quant_shift [ qindex ] ; //<S2SV> x -> plane [ i ] . zbin = quants -> uv_zbin [ qindex ] ; //<S2SV> x -> plane [ i ] . round = quants -> uv_round [ qindex ] ; //<S2SV> xd -> plane [ i ] . dequant = cpi -> uv_dequant [ qindex ] ; //<S2SV> x -> plane [ i ] . quant_thred [ 0 ] = x -> plane [ i ] . zbin [ 0 ] * x -> plane [ i ] . zbin [ 0 ] ; //<S2SV> x -> plane [ i ] . quant_thred [ 1 ] = x -> plane [ i ] . zbin [ 1 ] * x -> plane [ i ] . zbin [ 1 ] ; //<S2SV> } //<S2SV> x -> skip_block = segfeature_active ( & cm -> seg , segment_id , SEG_LVL_SKIP ) ; //<S2SV> x -> q_index = qindex ; //<S2SV> x -> errorperbit = rdmult >> 6 ; //<S2SV> x -> errorperbit += ( x -> errorperbit == 0 ) ; //<S2SV> vp9_initialize_me_consts ( cpi , x , x -> q_index ) ; //<S2SV> } //<S2SV> 