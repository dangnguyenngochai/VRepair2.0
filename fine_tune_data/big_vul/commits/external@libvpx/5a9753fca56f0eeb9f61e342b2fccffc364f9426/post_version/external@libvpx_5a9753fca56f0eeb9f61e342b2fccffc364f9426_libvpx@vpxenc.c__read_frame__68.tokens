static int read_frame ( struct VpxInputContext * input_ctx , vpx_image_t * img ) { //<S2SV> FILE * f = input_ctx -> file ; //<S2SV> y4m_input * y4m = & input_ctx -> y4m ; //<S2SV> int shortread = 0 ; //<S2SV> if ( input_ctx -> file_type == FILE_TYPE_Y4M ) { //<S2SV> if ( y4m_input_fetch_frame ( y4m , f , img ) < 1 ) //<S2SV> return 0 ; //<S2SV> } else { //<S2SV> shortread = read_yuv_frame ( input_ctx , img ) ; //<S2SV> } //<S2SV> return ! shortread ; //<S2SV> } //<S2SV> 