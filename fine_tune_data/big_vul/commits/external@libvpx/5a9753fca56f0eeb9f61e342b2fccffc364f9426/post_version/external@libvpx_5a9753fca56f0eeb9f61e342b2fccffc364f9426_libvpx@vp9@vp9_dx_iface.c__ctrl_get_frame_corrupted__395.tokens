static vpx_codec_err_t ctrl_get_frame_corrupted ( vpx_codec_alg_priv_t * ctx , //<S2SV> va_list args ) { //<S2SV> int * corrupted = va_arg ( args , int * ) ; //<S2SV> if ( corrupted ) { //<S2SV> if ( ctx -> frame_workers ) { //<S2SV> VPxWorker * const worker = ctx -> frame_workers ; //<S2SV> FrameWorkerData * const frame_worker_data = //<S2SV> ( FrameWorkerData * ) worker -> data1 ; //<S2SV> RefCntBuffer * const frame_bufs = //<S2SV> frame_worker_data -> pbi -> common . buffer_pool -> frame_bufs ; //<S2SV> if ( frame_worker_data -> pbi -> common . frame_to_show == NULL ) //<S2SV> return VPX_CODEC_ERROR ; //<S2SV> if ( ctx -> last_show_frame >= 0 ) //<S2SV> * corrupted = frame_bufs [ ctx -> last_show_frame ] . buf . corrupted ; //<S2SV> return VPX_CODEC_OK ; //<S2SV> } else { //<S2SV> return VPX_CODEC_ERROR ; //<S2SV> } //<S2SV> } //<S2SV> return VPX_CODEC_INVALID_PARAM ; //<S2SV> } //<S2SV> 