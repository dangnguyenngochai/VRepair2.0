static vpx_codec_err_t vp8_get_last_ref_frame ( vpx_codec_alg_priv_t * ctx , //<S2SV> va_list args ) //<S2SV> { //<S2SV> int * ref_info = va_arg ( args , int * ) ; //<S2SV> if ( ref_info && ! ctx -> yv12_frame_buffers . use_frame_threads ) //<S2SV> { //<S2SV> VP8D_COMP * pbi = ( VP8D_COMP * ) ctx -> yv12_frame_buffers . pbi [ 0 ] ; //<S2SV> VP8_COMMON * oci = & pbi -> common ; //<S2SV> * ref_info = //<S2SV> ( vp8dx_references_buffer ( oci , ALTREF_FRAME ) ? VP8_ALTR_FRAME : 0 ) | //<S2SV> ( vp8dx_references_buffer ( oci , GOLDEN_FRAME ) ? VP8_GOLD_FRAME : 0 ) | //<S2SV> ( vp8dx_references_buffer ( oci , LAST_FRAME ) ? VP8_LAST_FRAME : 0 ) ; //<S2SV> return VPX_CODEC_OK ; //<S2SV> } //<S2SV> else //<S2SV> return VPX_CODEC_INVALID_PARAM ; //<S2SV> } //<S2SV> 