int vpx_img_read ( vpx_image_t * img , FILE * file ) { //<S2SV> int plane ; //<S2SV> for ( plane = 0 ; plane < 3 ; ++ plane ) { //<S2SV> unsigned char * buf = img -> planes [ plane ] ; //<S2SV> const int stride = img -> stride [ plane ] ; //<S2SV> const int w = vpx_img_plane_width ( img , plane ) ; //<S2SV> const int h = vpx_img_plane_height ( img , plane ) ; //<S2SV> int y ; //<S2SV> for ( y = 0 ; y < h ; ++ y ) { //<S2SV> if ( fread ( buf , 1 , w , file ) != w ) //<S2SV> return 0 ; //<S2SV> buf += stride ; //<S2SV> } //<S2SV> } //<S2SV> return 1 ; //<S2SV> } //<S2SV> 