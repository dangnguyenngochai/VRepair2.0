void vp9_fht16x16_c ( const int16_t * input , int16_t * output , //<S2SV> int stride , int tx_type ) { //<S2SV> if ( tx_type == DCT_DCT ) { //<S2SV> vp9_fdct16x16_c ( input , output , stride ) ; //<S2SV> } else { //<S2SV> int16_t out [ 256 ] ; //<S2SV> int16_t * outptr = & out [ 0 ] ; //<S2SV> int i , j ; //<S2SV> int16_t temp_in [ 16 ] , temp_out [ 16 ] ; //<S2SV> const transform_2d ht = FHT_16 [ tx_type ] ; //<S2SV> for ( i = 0 ; i < 16 ; ++ i ) { //<S2SV> for ( j = 0 ; j < 16 ; ++ j ) //<S2SV> temp_in [ j ] = input [ j * stride + i ] * 4 ; //<S2SV> ht . cols ( temp_in , temp_out ) ; //<S2SV> for ( j = 0 ; j < 16 ; ++ j ) //<S2SV> outptr [ j * 16 + i ] = ( temp_out [ j ] + 1 + ( temp_out [ j ] < 0 ) ) >> 2 ; //<S2SV> } //<S2SV> for ( i = 0 ; i < 16 ; ++ i ) { //<S2SV> for ( j = 0 ; j < 16 ; ++ j ) //<S2SV> temp_in [ j ] = out [ j + i * 16 ] ; //<S2SV> ht . rows ( temp_in , temp_out ) ; //<S2SV> for ( j = 0 ; j < 16 ; ++ j ) //<S2SV> output [ j + i * 16 ] = temp_out [ j ] ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> 