static void init_buffer_callbacks ( vpx_codec_alg_priv_t * ctx ) { //<S2SV> VP9_COMMON * const cm = & ctx -> pbi -> common ; //<S2SV> cm -> new_fb_idx = - 1 ; //<S2SV> if ( ctx -> get_ext_fb_cb != NULL && ctx -> release_ext_fb_cb != NULL ) { //<S2SV> cm -> get_fb_cb = ctx -> get_ext_fb_cb ; //<S2SV> cm -> release_fb_cb = ctx -> release_ext_fb_cb ; //<S2SV> cm -> cb_priv = ctx -> ext_priv ; //<S2SV> } else { //<S2SV> cm -> get_fb_cb = vp9_get_frame_buffer ; //<S2SV> cm -> release_fb_cb = vp9_release_frame_buffer ; //<S2SV> if ( vp9_alloc_internal_frame_buffers ( & cm -> int_frame_buffers ) ) //<S2SV> vpx_internal_error ( & cm -> error , VPX_CODEC_MEM_ERROR , //<S2SV> "Failed<S2SV_blank>to<S2SV_blank>initialize<S2SV_blank>internal<S2SV_blank>frame<S2SV_blank>buffers" ) ; //<S2SV> cm -> cb_priv = & cm -> int_frame_buffers ; //<S2SV> } //<S2SV> } //<S2SV> 