void vp8_dequant_idct_add_y_block_mmx //<S2SV> ( short * q , short * dq , //<S2SV> unsigned char * dst , int stride , char * eobs ) //<S2SV> { //<S2SV> int i ; //<S2SV> for ( i = 0 ; i < 4 ; i ++ ) //<S2SV> { //<S2SV> if ( eobs [ 0 ] > 1 ) //<S2SV> vp8_dequant_idct_add_mmx ( q , dq , dst , stride ) ; //<S2SV> else if ( eobs [ 0 ] == 1 ) //<S2SV> { //<S2SV> vp8_dc_only_idct_add_mmx ( q [ 0 ] * dq [ 0 ] , dst , stride , dst , stride ) ; //<S2SV> vpx_memset ( q , 0 , 2 * sizeof ( q [ 0 ] ) ) ; //<S2SV> } //<S2SV> if ( eobs [ 1 ] > 1 ) //<S2SV> vp8_dequant_idct_add_mmx ( q + 16 , dq , dst + 4 , stride ) ; //<S2SV> else if ( eobs [ 1 ] == 1 ) //<S2SV> { //<S2SV> vp8_dc_only_idct_add_mmx ( q [ 16 ] * dq [ 0 ] , dst + 4 , stride , //<S2SV> dst + 4 , stride ) ; //<S2SV> vpx_memset ( q + 16 , 0 , 2 * sizeof ( q [ 0 ] ) ) ; //<S2SV> } //<S2SV> if ( eobs [ 2 ] > 1 ) //<S2SV> vp8_dequant_idct_add_mmx ( q + 32 , dq , dst + 8 , stride ) ; //<S2SV> else if ( eobs [ 2 ] == 1 ) //<S2SV> { //<S2SV> vp8_dc_only_idct_add_mmx ( q [ 32 ] * dq [ 0 ] , dst + 8 , stride , //<S2SV> dst + 8 , stride ) ; //<S2SV> vpx_memset ( q + 32 , 0 , 2 * sizeof ( q [ 0 ] ) ) ; //<S2SV> } //<S2SV> if ( eobs [ 3 ] > 1 ) //<S2SV> vp8_dequant_idct_add_mmx ( q + 48 , dq , dst + 12 , stride ) ; //<S2SV> else if ( eobs [ 3 ] == 1 ) //<S2SV> { //<S2SV> vp8_dc_only_idct_add_mmx ( q [ 48 ] * dq [ 0 ] , dst + 12 , stride , //<S2SV> dst + 12 , stride ) ; //<S2SV> vpx_memset ( q + 48 , 0 , 2 * sizeof ( q [ 0 ] ) ) ; //<S2SV> } //<S2SV> q += 64 ; //<S2SV> dst += 4 * stride ; //<S2SV> eobs += 4 ; //<S2SV> } //<S2SV> } //<S2SV> 