static vpx_image_t * encoder_get_preview ( vpx_codec_alg_priv_t * ctx ) { //<S2SV> YV12_BUFFER_CONFIG sd ; //<S2SV> vp9_ppflags_t flags = { 0 } ; //<S2SV> if ( ctx -> preview_ppcfg . post_proc_flag ) { //<S2SV> flags . post_proc_flag = ctx -> preview_ppcfg . post_proc_flag ; //<S2SV> flags . deblocking_level = ctx -> preview_ppcfg . deblocking_level ; //<S2SV> flags . noise_level = ctx -> preview_ppcfg . noise_level ; //<S2SV> } //<S2SV> if ( vp9_get_preview_raw_frame ( ctx -> cpi , & sd , & flags ) == 0 ) { //<S2SV> yuvconfig2image ( & ctx -> preview_img , & sd , NULL ) ; //<S2SV> return & ctx -> preview_img ; //<S2SV> } else { //<S2SV> return NULL ; //<S2SV> } //<S2SV> } //<S2SV> 