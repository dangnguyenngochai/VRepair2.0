void vpx_img_write ( const vpx_image_t * img , FILE * file ) { //<S2SV> int plane ; //<S2SV> for ( plane = 0 ; plane < 3 ; ++ plane ) { //<S2SV> const unsigned char * buf = img -> planes [ plane ] ; //<S2SV> const int stride = img -> stride [ plane ] ; //<S2SV> const int w = vpx_img_plane_width ( img , plane ) ; //<S2SV> const int h = vpx_img_plane_height ( img , plane ) ; //<S2SV> int y ; //<S2SV> for ( y = 0 ; y < h ; ++ y ) { //<S2SV> fwrite ( buf , 1 , w , file ) ; //<S2SV> buf += stride ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> 