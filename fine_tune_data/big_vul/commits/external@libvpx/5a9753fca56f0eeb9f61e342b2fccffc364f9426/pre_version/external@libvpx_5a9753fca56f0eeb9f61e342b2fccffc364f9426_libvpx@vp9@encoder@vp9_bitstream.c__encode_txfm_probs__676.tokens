static void encode_txfm_probs ( VP9_COMMON * cm , vp9_writer * w ) { //<S2SV> vp9_write_literal ( w , MIN ( cm -> tx_mode , ALLOW_32X32 ) , 2 ) ; //<S2SV> if ( cm -> tx_mode >= ALLOW_32X32 ) //<S2SV> vp9_write_bit ( w , cm -> tx_mode == TX_MODE_SELECT ) ; //<S2SV> if ( cm -> tx_mode == TX_MODE_SELECT ) { //<S2SV> int i , j ; //<S2SV> unsigned int ct_8x8p [ TX_SIZES - 3 ] [ 2 ] ; //<S2SV> unsigned int ct_16x16p [ TX_SIZES - 2 ] [ 2 ] ; //<S2SV> unsigned int ct_32x32p [ TX_SIZES - 1 ] [ 2 ] ; //<S2SV> for ( i = 0 ; i < TX_SIZE_CONTEXTS ; i ++ ) { //<S2SV> tx_counts_to_branch_counts_8x8 ( cm -> counts . tx . p8x8 [ i ] , ct_8x8p ) ; //<S2SV> for ( j = 0 ; j < TX_SIZES - 3 ; j ++ ) //<S2SV> vp9_cond_prob_diff_update ( w , & cm -> fc . tx_probs . p8x8 [ i ] [ j ] , ct_8x8p [ j ] ) ; //<S2SV> } //<S2SV> for ( i = 0 ; i < TX_SIZE_CONTEXTS ; i ++ ) { //<S2SV> tx_counts_to_branch_counts_16x16 ( cm -> counts . tx . p16x16 [ i ] , ct_16x16p ) ; //<S2SV> for ( j = 0 ; j < TX_SIZES - 2 ; j ++ ) //<S2SV> vp9_cond_prob_diff_update ( w , & cm -> fc . tx_probs . p16x16 [ i ] [ j ] , //<S2SV> ct_16x16p [ j ] ) ; //<S2SV> } //<S2SV> for ( i = 0 ; i < TX_SIZE_CONTEXTS ; i ++ ) { //<S2SV> tx_counts_to_branch_counts_32x32 ( cm -> counts . tx . p32x32 [ i ] , ct_32x32p ) ; //<S2SV> for ( j = 0 ; j < TX_SIZES - 1 ; j ++ ) //<S2SV> vp9_cond_prob_diff_update ( w , & cm -> fc . tx_probs . p32x32 [ i ] [ j ] , //<S2SV> ct_32x32p [ j ] ) ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> 