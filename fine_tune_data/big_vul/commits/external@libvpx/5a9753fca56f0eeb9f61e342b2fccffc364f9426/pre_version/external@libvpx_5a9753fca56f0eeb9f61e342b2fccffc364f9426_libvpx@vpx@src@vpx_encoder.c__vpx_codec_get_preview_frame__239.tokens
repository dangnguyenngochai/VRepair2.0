const vpx_image_t * vpx_codec_get_preview_frame ( vpx_codec_ctx_t * ctx ) { //<S2SV> vpx_image_t * img = NULL ; //<S2SV> if ( ctx ) { //<S2SV> if ( ! ctx -> iface || ! ctx -> priv ) //<S2SV> ctx -> err = VPX_CODEC_ERROR ; //<S2SV> else if ( ! ( ctx -> iface -> caps & VPX_CODEC_CAP_ENCODER ) ) //<S2SV> ctx -> err = VPX_CODEC_INCAPABLE ; //<S2SV> else if ( ! ctx -> iface -> enc . get_preview ) //<S2SV> ctx -> err = VPX_CODEC_INCAPABLE ; //<S2SV> else //<S2SV> img = ctx -> iface -> enc . get_preview ( ctx -> priv -> alg_priv ) ; //<S2SV> } //<S2SV> return img ; //<S2SV> } //<S2SV> 