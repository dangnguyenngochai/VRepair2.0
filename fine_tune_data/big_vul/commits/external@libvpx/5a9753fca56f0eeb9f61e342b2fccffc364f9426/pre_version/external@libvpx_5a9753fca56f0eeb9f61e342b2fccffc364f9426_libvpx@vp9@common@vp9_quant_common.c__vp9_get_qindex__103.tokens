int vp9_get_qindex ( const struct segmentation * seg , int segment_id , //<S2SV> int base_qindex ) { //<S2SV> if ( vp9_segfeature_active ( seg , segment_id , SEG_LVL_ALT_Q ) ) { //<S2SV> const int data = vp9_get_segdata ( seg , segment_id , SEG_LVL_ALT_Q ) ; //<S2SV> const int seg_qindex = seg -> abs_delta == SEGMENT_ABSDATA ? //<S2SV> data : base_qindex + data ; //<S2SV> return clamp ( seg_qindex , 0 , MAXQ ) ; //<S2SV> } else { //<S2SV> return base_qindex ; //<S2SV> } //<S2SV> } //<S2SV> 