void vp9_update_mv_count ( VP9_COMMON * cm , const MACROBLOCKD * xd ) { //<S2SV> const MODE_INFO * mi = xd -> mi [ 0 ] ; //<S2SV> const MB_MODE_INFO * const mbmi = & mi -> mbmi ; //<S2SV> if ( mbmi -> sb_type < BLOCK_8X8 ) { //<S2SV> const int num_4x4_w = num_4x4_blocks_wide_lookup [ mbmi -> sb_type ] ; //<S2SV> const int num_4x4_h = num_4x4_blocks_high_lookup [ mbmi -> sb_type ] ; //<S2SV> int idx , idy ; //<S2SV> for ( idy = 0 ; idy < 2 ; idy += num_4x4_h ) { //<S2SV> for ( idx = 0 ; idx < 2 ; idx += num_4x4_w ) { //<S2SV> const int i = idy * 2 + idx ; //<S2SV> if ( mi -> bmi [ i ] . as_mode == NEWMV ) //<S2SV> inc_mvs ( mbmi , mi -> bmi [ i ] . as_mv , & cm -> counts . mv ) ; //<S2SV> } //<S2SV> } //<S2SV> } else { //<S2SV> if ( mbmi -> mode == NEWMV ) //<S2SV> inc_mvs ( mbmi , mbmi -> mv , & cm -> counts . mv ) ; //<S2SV> } //<S2SV> } //<S2SV> 