static int calc_partial_ssl_err ( YV12_BUFFER_CONFIG * source , //<S2SV> YV12_BUFFER_CONFIG * dest ) //<S2SV> { //<S2SV> int i , j ; //<S2SV> int Total = 0 ; //<S2SV> int srcoffset , dstoffset ; //<S2SV> unsigned char * src = source -> y_buffer ; //<S2SV> unsigned char * dst = dest -> y_buffer ; //<S2SV> int linestocopy ; //<S2SV> linestocopy = ( source -> y_height >> 4 ) / PARTIAL_FRAME_FRACTION ; //<S2SV> linestocopy = linestocopy ? linestocopy << 4 : 16 ; //<S2SV> srcoffset = source -> y_stride * ( ( dest -> y_height >> 5 ) * 16 ) ; //<S2SV> dstoffset = dest -> y_stride * ( ( dest -> y_height >> 5 ) * 16 ) ; //<S2SV> src += srcoffset ; //<S2SV> dst += dstoffset ; //<S2SV> for ( i = 0 ; i < linestocopy ; i += 16 ) //<S2SV> { //<S2SV> for ( j = 0 ; j < source -> y_width ; j += 16 ) //<S2SV> { //<S2SV> unsigned int sse ; //<S2SV> Total += vp8_mse16x16 ( src + j , source -> y_stride , //<S2SV> dst + j , dest -> y_stride , //<S2SV> & sse ) ; //<S2SV> } //<S2SV> src += 16 * source -> y_stride ; //<S2SV> dst += 16 * dest -> y_stride ; //<S2SV> } //<S2SV> return Total ; //<S2SV> } //<S2SV> 