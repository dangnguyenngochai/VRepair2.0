static vpx_codec_err_t vp8e_mr_alloc_mem ( const vpx_codec_enc_cfg_t * cfg , //<S2SV> void * * mem_loc ) //<S2SV> { //<S2SV> vpx_codec_err_t res = 0 ; //<S2SV> # if CONFIG_MULTI_RES_ENCODING //<S2SV> LOWER_RES_FRAME_INFO * shared_mem_loc ; //<S2SV> int mb_rows = ( ( cfg -> g_w + 15 ) >> 4 ) ; //<S2SV> int mb_cols = ( ( cfg -> g_h + 15 ) >> 4 ) ; //<S2SV> shared_mem_loc = calloc ( 1 , sizeof ( LOWER_RES_FRAME_INFO ) ) ; //<S2SV> if ( ! shared_mem_loc ) //<S2SV> { //<S2SV> res = VPX_CODEC_MEM_ERROR ; //<S2SV> } //<S2SV> shared_mem_loc -> mb_info = calloc ( mb_rows * mb_cols , sizeof ( LOWER_RES_MB_INFO ) ) ; //<S2SV> if ( ! ( shared_mem_loc -> mb_info ) ) //<S2SV> { //<S2SV> res = VPX_CODEC_MEM_ERROR ; //<S2SV> } //<S2SV> else //<S2SV> { //<S2SV> * mem_loc = ( void * ) shared_mem_loc ; //<S2SV> res = VPX_CODEC_OK ; //<S2SV> } //<S2SV> # endif //<S2SV> return res ; //<S2SV> } //<S2SV> 