static void write_frame_size_with_refs ( VP9_COMP * cpi , //<S2SV> struct vp9_write_bit_buffer * wb ) { //<S2SV> VP9_COMMON * const cm = & cpi -> common ; //<S2SV> int found = 0 ; //<S2SV> MV_REFERENCE_FRAME ref_frame ; //<S2SV> for ( ref_frame = LAST_FRAME ; ref_frame <= ALTREF_FRAME ; ++ ref_frame ) { //<S2SV> YV12_BUFFER_CONFIG * cfg = get_ref_frame_buffer ( cpi , ref_frame ) ; //<S2SV> found = cm -> width == cfg -> y_crop_width && //<S2SV> cm -> height == cfg -> y_crop_height ; //<S2SV> if ( cpi -> use_svc ) { //<S2SV> found = 0 ; //<S2SV> } //<S2SV> vp9_wb_write_bit ( wb , found ) ; //<S2SV> if ( found ) { //<S2SV> break ; //<S2SV> } //<S2SV> } //<S2SV> if ( ! found ) { //<S2SV> vp9_wb_write_literal ( wb , cm -> width - 1 , 16 ) ; //<S2SV> vp9_wb_write_literal ( wb , cm -> height - 1 , 16 ) ; //<S2SV> } //<S2SV> write_display_size ( cm , wb ) ; //<S2SV> } //<S2SV> 