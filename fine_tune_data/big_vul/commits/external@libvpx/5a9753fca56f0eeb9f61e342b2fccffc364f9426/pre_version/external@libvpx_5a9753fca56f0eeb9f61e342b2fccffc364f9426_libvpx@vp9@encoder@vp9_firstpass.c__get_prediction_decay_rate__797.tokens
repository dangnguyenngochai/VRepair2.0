static double get_prediction_decay_rate ( const VP9_COMMON * cm , //<S2SV> const FIRSTPASS_STATS * next_frame ) { //<S2SV> const double mb_sr_err_diff = ( next_frame -> sr_coded_error - //<S2SV> next_frame -> coded_error ) / cm -> MBs ; //<S2SV> const double second_ref_decay = mb_sr_err_diff <= 512.0 //<S2SV> ? fclamp ( pow ( 1.0 - ( mb_sr_err_diff / 512.0 ) , 0.5 ) , 0.85 , 1.0 ) //<S2SV> : 0.85 ; //<S2SV> return MIN ( second_ref_decay , next_frame -> pcnt_inter ) ; //<S2SV> } //<S2SV> 