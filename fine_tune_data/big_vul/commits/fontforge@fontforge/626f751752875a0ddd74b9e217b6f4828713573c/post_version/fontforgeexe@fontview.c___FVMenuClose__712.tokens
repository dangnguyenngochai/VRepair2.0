static int _FVMenuClose ( FontView * fv ) { //<S2SV> int i ; //<S2SV> SplineFont * sf = fv -> b . cidmaster ? fv -> b . cidmaster : fv -> b . sf ; //<S2SV> if ( ! SFCloseAllInstrs ( fv -> b . sf ) ) //<S2SV> return ( false ) ; //<S2SV> if ( fv -> b . nextsame != NULL || fv -> b . sf -> fv != & fv -> b ) { //<S2SV> } else if ( warn_script_unsaved && fv -> script_unsaved && //<S2SV> AskScriptChanged ( ) == 2 ) { //<S2SV> return false ; //<S2SV> } else if ( SFAnyChanged ( sf ) ) { //<S2SV> i = AskChanged ( fv -> b . sf ) ; //<S2SV> if ( i == 2 ) //<S2SV> return ( false ) ; //<S2SV> if ( i == 0 && ! _FVMenuSave ( fv ) ) //<S2SV> return ( false ) ; //<S2SV> else //<S2SV> SFClearAutoSave ( sf ) ; //<S2SV> } //<S2SV> _FVCloseWindows ( fv ) ; //<S2SV> if ( sf -> filename != NULL ) //<S2SV> RecentFilesRemember ( sf -> filename ) ; //<S2SV> else if ( sf -> origname != NULL ) //<S2SV> RecentFilesRemember ( sf -> origname ) ; //<S2SV> GDrawDestroyWindow ( fv -> gw ) ; //<S2SV> return ( true ) ; //<S2SV> } //<S2SV> 