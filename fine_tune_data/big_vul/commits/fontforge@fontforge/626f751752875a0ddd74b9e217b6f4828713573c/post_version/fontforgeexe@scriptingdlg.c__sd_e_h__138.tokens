static int sd_e_h ( GWindow gw , GEvent * event ) { //<S2SV> struct sd_data * sd = GDrawGetUserData ( gw ) ; //<S2SV> if ( sd == NULL ) //<S2SV> return ( true ) ; //<S2SV> if ( event -> type == et_close ) { //<S2SV> SD_DoCancel ( sd ) ; //<S2SV> } else if ( event -> type == et_controlevent && event -> u . control . subtype == et_textchanged ) { //<S2SV> sd -> fv -> script_unsaved = ! GTextFieldIsEmpty ( GWidgetGetControl ( sd -> gw , CID_Script ) ) ; //<S2SV> } else if ( event -> type == et_controlevent && event -> u . control . subtype == et_save ) { //<S2SV> sd -> fv -> script_unsaved = false ; //<S2SV> } else if ( event -> type == et_char ) { //<S2SV> if ( event -> u . chr . keysym == GK_F1 || event -> u . chr . keysym == GK_Help ) { //<S2SV> help ( "scripting.html" ) ; //<S2SV> return ( true ) ; //<S2SV> } //<S2SV> return ( false ) ; //<S2SV> } else if ( event -> type == et_map ) //<S2SV> GDrawRaise ( gw ) ; //<S2SV> else if ( event -> type == et_resize ) //<S2SV> GDrawRequestExpose ( gw , NULL , false ) ; //<S2SV> return ( true ) ; //<S2SV> } //<S2SV> 