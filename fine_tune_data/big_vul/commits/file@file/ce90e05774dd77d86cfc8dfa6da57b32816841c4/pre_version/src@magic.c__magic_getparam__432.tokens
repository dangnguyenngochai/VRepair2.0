public int //<S2SV> magic_getparam ( struct magic_set * ms , int param , void * val ) //<S2SV> { //<S2SV> switch ( param ) { //<S2SV> case MAGIC_PARAM_INDIR_MAX : //<S2SV> * ( size_t * ) val = ms -> indir_max ; //<S2SV> return 0 ; //<S2SV> case MAGIC_PARAM_NAME_MAX : //<S2SV> * ( size_t * ) val = ms -> name_max ; //<S2SV> return 0 ; //<S2SV> case MAGIC_PARAM_ELF_PHNUM_MAX : //<S2SV> * ( size_t * ) val = ms -> elf_phnum_max ; //<S2SV> return 0 ; //<S2SV> case MAGIC_PARAM_ELF_SHNUM_MAX : //<S2SV> * ( size_t * ) val = ms -> elf_shnum_max ; //<S2SV> return 0 ; //<S2SV> default : //<S2SV> errno = EINVAL ; //<S2SV> return - 1 ; //<S2SV> } //<S2SV> } //<S2SV> 