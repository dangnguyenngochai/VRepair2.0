ssize_t //<S2SV> cdf_read_short_sector ( const cdf_stream_t * sst , void * buf , size_t offs , //<S2SV> size_t len , const cdf_header_t * h , cdf_secid_t id ) //<S2SV> { //<S2SV> size_t ss = CDF_SHORT_SEC_SIZE ( h ) ; //<S2SV> size_t pos = CDF_SHORT_SEC_POS ( h , id ) ; //<S2SV> assert ( ss == len ) ; //<S2SV> if ( pos + len > CDF_SEC_SIZE ( h ) * sst -> sst_len ) { //<S2SV> DPRINTF ( ( "Out<S2SV_blank>of<S2SV_blank>bounds<S2SV_blank>read<S2SV_blank>%" SIZE_T_FORMAT "u<S2SV_blank>><S2SV_blank>%" //<S2SV> SIZE_T_FORMAT "u\\n" , //<S2SV> pos + len , CDF_SEC_SIZE ( h ) * sst -> sst_len ) ) ; //<S2SV> return - 1 ; //<S2SV> } //<S2SV> ( void ) memcpy ( ( ( char * ) buf ) + offs , //<S2SV> ( ( const char * ) sst -> sst_tab ) + pos , len ) ; //<S2SV> return len ; //<S2SV> } //<S2SV> 