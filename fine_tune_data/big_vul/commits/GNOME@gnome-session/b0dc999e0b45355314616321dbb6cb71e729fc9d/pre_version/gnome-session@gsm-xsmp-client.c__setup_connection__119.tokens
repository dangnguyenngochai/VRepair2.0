static void //<S2SV> setup_connection ( GsmXSMPClient * client ) //<S2SV> { //<S2SV> GIOChannel * channel ; //<S2SV> int fd ; //<S2SV> g_debug ( "GsmXSMPClient:<S2SV_blank>Setting<S2SV_blank>up<S2SV_blank>new<S2SV_blank>connection" ) ; //<S2SV> fd = IceConnectionNumber ( client -> priv -> ice_connection ) ; //<S2SV> fcntl ( fd , F_SETFD , fcntl ( fd , F_GETFD , 0 ) | FD_CLOEXEC ) ; //<S2SV> channel = g_io_channel_unix_new ( fd ) ; //<S2SV> client -> priv -> watch_id = g_io_add_watch ( channel , //<S2SV> G_IO_IN | G_IO_ERR , //<S2SV> ( GIOFunc ) client_iochannel_watch , //<S2SV> client ) ; //<S2SV> g_io_channel_unref ( channel ) ; //<S2SV> client -> priv -> protocol_timeout = g_timeout_add_seconds ( 5 , //<S2SV> ( GSourceFunc ) _client_protocol_timeout , //<S2SV> client ) ; //<S2SV> set_description ( client ) ; //<S2SV> g_debug ( "GsmXSMPClient:<S2SV_blank>New<S2SV_blank>client<S2SV_blank>\'%s\'" , client -> priv -> description ) ; //<S2SV> } //<S2SV> 