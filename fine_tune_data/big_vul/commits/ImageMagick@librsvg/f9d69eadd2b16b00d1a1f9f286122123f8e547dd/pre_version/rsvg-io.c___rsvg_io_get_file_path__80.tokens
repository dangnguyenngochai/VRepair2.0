gchar * //<S2SV> _rsvg_io_get_file_path ( const gchar * filename , //<S2SV> const gchar * base_uri ) //<S2SV> { //<S2SV> gchar * absolute_filename ; //<S2SV> if ( g_file_test ( filename , G_FILE_TEST_EXISTS ) || g_path_is_absolute ( filename ) ) { //<S2SV> absolute_filename = g_strdup ( filename ) ; //<S2SV> } else { //<S2SV> gchar * tmpcdir ; //<S2SV> gchar * base_filename ; //<S2SV> if ( base_uri ) { //<S2SV> base_filename = g_filename_from_uri ( base_uri , NULL , NULL ) ; //<S2SV> if ( base_filename != NULL ) { //<S2SV> tmpcdir = g_path_get_dirname ( base_filename ) ; //<S2SV> g_free ( base_filename ) ; //<S2SV> } else //<S2SV> return NULL ; //<S2SV> } else //<S2SV> tmpcdir = g_get_current_dir ( ) ; //<S2SV> absolute_filename = g_build_filename ( tmpcdir , filename , NULL ) ; //<S2SV> g_free ( tmpcdir ) ; //<S2SV> } //<S2SV> return absolute_filename ; //<S2SV> } //<S2SV> 