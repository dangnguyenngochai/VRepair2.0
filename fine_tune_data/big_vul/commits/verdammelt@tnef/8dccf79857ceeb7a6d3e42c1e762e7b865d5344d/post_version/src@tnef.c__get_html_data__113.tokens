static VarLenData * * //<S2SV> get_html_data ( MAPI_Attr * a ) //<S2SV> { //<S2SV> VarLenData * * body = XCALLOC ( VarLenData * , a -> num_values + 1 ) ; //<S2SV> int j ; //<S2SV> for ( j = 0 ; j < a -> num_values ; j ++ ) //<S2SV> { //<S2SV> if ( a -> type == szMAPI_BINARY ) { //<S2SV> body [ j ] = XMALLOC ( VarLenData , 1 ) ; //<S2SV> body [ j ] -> len = a -> values [ j ] . len ; //<S2SV> body [ j ] -> data = CHECKED_XCALLOC ( unsigned char , a -> values [ j ] . len ) ; //<S2SV> memmove ( body [ j ] -> data , a -> values [ j ] . data . buf , body [ j ] -> len ) ; //<S2SV> } //<S2SV> } //<S2SV> return body ; //<S2SV> } //<S2SV> 