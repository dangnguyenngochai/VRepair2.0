native_handle_t * native_handle_create ( int numFds , int numInts ) //<S2SV> { //<S2SV> if ( numFds < 0 || numInts < 0 || numFds > kMaxNativeFds || numInts > kMaxNativeInts ) { //<S2SV> return NULL ; //<S2SV> } //<S2SV> size_t mallocSize = sizeof ( native_handle_t ) + ( sizeof ( int ) * ( numFds + numInts ) ) ; //<S2SV> native_handle_t * h = malloc ( mallocSize ) ; //<S2SV> if ( h ) { //<S2SV> h -> version = sizeof ( native_handle_t ) ; //<S2SV> h -> numFds = numFds ; //<S2SV> h -> numInts = numInts ; //<S2SV> } //<S2SV> return h ; //<S2SV> } //<S2SV> 