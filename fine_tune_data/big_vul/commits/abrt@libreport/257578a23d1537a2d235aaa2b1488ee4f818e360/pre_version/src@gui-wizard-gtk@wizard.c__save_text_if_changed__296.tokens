static void save_text_if_changed ( const char * name , const char * new_value ) //<S2SV> { //<S2SV> if ( ! g_hash_table_lookup ( g_loaded_texts , name ) ) //<S2SV> return ; //<S2SV> const char * old_value = g_cd ? problem_data_get_content_or_NULL ( g_cd , name ) : "" ; //<S2SV> if ( ! old_value ) //<S2SV> old_value = "" ; //<S2SV> if ( strcmp ( new_value , old_value ) != 0 ) //<S2SV> { //<S2SV> struct dump_dir * dd = wizard_open_directory_for_writing ( g_dump_dir_name ) ; //<S2SV> if ( dd ) //<S2SV> dd_save_text ( dd , name , new_value ) ; //<S2SV> dd_close ( dd ) ; //<S2SV> problem_data_reload_from_dump_dir ( ) ; //<S2SV> update_gui_state_from_problem_data ( 0 ) ; //<S2SV> } //<S2SV> } //<S2SV> 