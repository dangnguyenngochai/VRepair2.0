static void //<S2SV> t1mac_output_ascii ( char * s , int len ) //<S2SV> { //<S2SV> if ( blocktyp == POST_BINARY ) { //<S2SV> output_current_post ( ) ; //<S2SV> blocktyp = POST_ASCII ; //<S2SV> } //<S2SV> if ( len > 0 && s [ len - 1 ] == '\\n' ) //<S2SV> s [ len - 1 ] = '\\r' ; //<S2SV> t1mac_output_data ( ( byte * ) s , len ) ; //<S2SV> if ( strncmp ( s , "/FontName" , 9 ) == 0 ) { //<S2SV> for ( s += 9 ; isspace ( ( unsigned char ) * s ) ; s ++ ) //<S2SV> ; //<S2SV> if ( * s == '/' ) { //<S2SV> const char * t = ++ s ; //<S2SV> while ( * t && ! isspace ( ( unsigned char ) * t ) ) t ++ ; //<S2SV> free ( font_name ) ; //<S2SV> font_name = ( char * ) malloc ( t - s + 1 ) ; //<S2SV> memcpy ( font_name , s , t - s ) ; //<S2SV> font_name [ t - s ] = 0 ; //<S2SV> } //<S2SV> } //<S2SV> } //<S2SV> 