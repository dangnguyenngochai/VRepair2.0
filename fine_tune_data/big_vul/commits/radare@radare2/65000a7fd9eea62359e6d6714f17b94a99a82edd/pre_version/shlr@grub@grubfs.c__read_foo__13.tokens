static grub_err_t read_foo ( struct grub_disk * disk , grub_disk_addr_t sector , grub_size_t size , char * buf ) { //<S2SV> if ( disk != NULL ) { //<S2SV> const int blocksize = 512 ; //<S2SV> int ret ; //<S2SV> RIOBind * iob = disk -> data ; //<S2SV> if ( bio ) iob = bio ; //<S2SV> ret = iob -> read_at ( iob -> io , delta + ( blocksize * sector ) , //<S2SV> ( ut8 * ) buf , size * blocksize ) ; //<S2SV> if ( ret == - 1 ) //<S2SV> return 1 ; //<S2SV> } else eprintf ( "oops.<S2SV_blank>no<S2SV_blank>disk\\n" ) ; //<S2SV> return 0 ; //<S2SV> } //<S2SV> 