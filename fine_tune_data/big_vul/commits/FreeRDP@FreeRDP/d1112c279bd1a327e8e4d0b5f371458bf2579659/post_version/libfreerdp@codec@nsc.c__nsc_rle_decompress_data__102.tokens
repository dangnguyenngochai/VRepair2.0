static BOOL nsc_rle_decompress_data ( NSC_CONTEXT * context ) //<S2SV> { //<S2SV> UINT16 i ; //<S2SV> BYTE * rle ; //<S2SV> UINT32 planeSize ; //<S2SV> UINT32 originalSize ; //<S2SV> if ( ! context ) //<S2SV> return FALSE ; //<S2SV> rle = context -> Planes ; //<S2SV> for ( i = 0 ; i < 4 ; i ++ ) //<S2SV> { //<S2SV> originalSize = context -> OrgByteCount [ i ] ; //<S2SV> planeSize = context -> PlaneByteCount [ i ] ; //<S2SV> if ( planeSize == 0 ) //<S2SV> { //<S2SV> if ( context -> priv -> PlaneBuffersLength < originalSize ) //<S2SV> return FALSE ; //<S2SV> FillMemory ( context -> priv -> PlaneBuffers [ i ] , originalSize , 0xFF ) ; //<S2SV> } //<S2SV> else if ( planeSize < originalSize ) //<S2SV> { //<S2SV> if ( ! nsc_rle_decode ( rle , context -> priv -> PlaneBuffers [ i ] , context -> priv -> PlaneBuffersLength , //<S2SV> originalSize ) ) //<S2SV> return FALSE ; //<S2SV> } //<S2SV> else //<S2SV> { //<S2SV> if ( context -> priv -> PlaneBuffersLength < originalSize ) //<S2SV> return FALSE ; //<S2SV> CopyMemory ( context -> priv -> PlaneBuffers [ i ] , rle , originalSize ) ; //<S2SV> } //<S2SV> rle += planeSize ; //<S2SV> } //<S2SV> return TRUE ; //<S2SV> } //<S2SV> 